Plecs {
  Name          "projekt (1)"
  Version       "4.7"
  CircuitModel  "ContStateSpace"
  StartTime     "0.0"
  TimeSpan      "5"
  Timeout       ""
  Solver        "radau"
  MaxStep       "1e-3"
  InitStep      "-1"
  FixedStep     "1e-3"
  Refine        "5"
  ZCStepSize    "1e-9"
  RelTol        "1e-3"
  AbsTol        "-1"
  TurnOnThreshold "0"
  SyncFixedStepTasks "2"
  UseSingleCommonBaseRate "2"
  LossVariableLimitExceededMsg "3"
  NegativeSwitchLossMsg "3"
  DivisionByZeroMsg "3"
  StiffnessDetectionMsg "2"
  MaxConsecutiveZCs "1000"
  AlgebraicLoopWithStateMachineMsg "2"
  AssertionAction "3"
  InitializationCommands base64 "ClRzX21wcHQgPSA1MGUtMzsKCgolJSUgU29sYXIgUGFuZ"
"WwgKEtDMjAwR1QgU29sYXIgQXJyYXkpClNQLk5PQ1QgPSA0NyAgICAgICUgW2RlZyBDXS0gTm9ybW"
"FsIE9wZXJhdGluZyBDZWxsIFRlbXBlcmF0dXJlIAoKU1AuTnMgPSA1NjsgICAgICAgJSBbXSAtIG5"
"1bWJlciBvZiBzb2xhciBjZWxscyBpbiBhIHN0cmluZyBpbiBzb2xhciBhcnJheQpTUC5OcCA9IDI7"
"ICAgICAgICAlIFtdIC0gbnVtYmVyIG9mIHNvbGFyIGNlbGwgc3RyaW5ncyBpbiBwYXJhbGxlbCBzb"
"2xhciBhcnJheQpTUC5Oc2VyID0gMTU7ICAgICAlIFtdIC0gbnVtYmVyIG9mIHBhbmVscyBjb25uZW"
"N0ZWQgaW4gc2VyaWVzIGluIHRoZSBzeXN0ZW0KU1AuVF9uID0gMjU7ICAgICAgJSBbQ10gLSBub21"
"pbmFsIHRlbXBlcmF0dXJlIG9mIHNvbGFyIGNlbGxzClNQLkdfbiA9IDEwMDA7ICAgICUgW1cvbV4y"
"XSAtIG5vbWluYWwgaXJyYWRpYXRpb24gb2Ygc29sYXIgY2VsbHMKU1AuVl9PQ19uID0gMzkuOTI7I"
"CUgW1ZdIC0gbm9taW5hbCBvcGVuIGNpcmN1aXQgdm9sdGFnZSBvZiBhcnJheSAoc2luZ2xlIHBhbm"
"VsIGluIHN5c3RlbSkKU1AuSV9TQ19uID0gOS43NzsgJSBbQV0gLSBub21pbmFsIHNob3J0IGNpcmN"
"1aXQgY3VycmVudCBvZiBhcnJheQoKU1AuUnMgPSAwLjIyMTsgICAgJSBbb2htXSAtIGVxdXZhbGVu"
"dCBzZXJpZXMgcmVzaXN0YW5jZSBvZiBhcnJheQpTUC5ScCA9IDQxNS40MDU7ICAlIFtvaG1dIC0gZ"
"XF1dmFsZW50IHBhcmFsbGVsIHJlc2lzdGFuY2Ugb2YgYXJyYXkKClNQLmEgPSAxLjM7ICAgICAgIC"
"UgW10gLSBkaW9kZSBpZGVhbGl0eSBjb25zdGFudAoKU1AuS19WID0gLTAuMTIzMDsgJSBbVi9LXSA"
"tIHRoZXJtYWwgdm9sdGFnZSBjb2VmZmljaWVudCBvZiBhcnJheQpTUC5LX0kgPSAwLjAwMzI7ICAl"
"IFtBL0tdIC0gdGhlcm1hbCBjdXJyZW50IGNvZWZmaWNpZW50IG9mIGFycmF5CgpTUC5DX2luID0gM"
"jJlLTY7ICAlIFtGXSAtIGlucHV0IGNhcGFjaXRhbmNlIG9mIHRoZSBEQy9EQyBjb252ZXJ0ZXIKCi"
"UlIEJ1cyBWb2x0YWdlCgpWX2J1cyA9IDcwMDsgICAgICAlIFtWfQktCUFjdHVhbCBEQyBidXMgdm9"
"sdGFnZQpSX2J1cyA9IDAxOwkJCQkJJSBbT2htXQktCVRoZXZlbmluIHJlc2lzdGFuY2UKVl9idXNf"
"SW5pdCA9IFZfYnVzOyAgICAgICUgW1ZdIC0gREMgYnVzIGluaXRpYWwgdm9sdGFnZSBvZiBjYXBhY"
"2l0YW5jZQpDX2J1cyA9IDEwMDBlLTY7ICAgJSBbRl0gLSBEQyBidXMgY2FwYWNpdGFuY2UKCgolJS"
"UgREMvREMgQ29udmVydGVyCgpEQ0RDLkwgPSA1ZS0zOyAgICAlIFtIXSAtIGJvb3N0IHN0YWdlIGl"
"uZHVjdG9yCkRDREMuUiA9IDI1ZS0zOyAgICAlIFtPaG1dIC0gYm9vc3Qgc3RhZ2UgaW5kdWN0b3Ig"
"cmVzaXN0YW5jZQpEQ0RDLlQuVmYgPSAxLjY3OwpEQ0RDLlQuUm9uID0gMC4wODQ7CkRDREMuZnN3I"
"D0gMjBlMzsgICUgW0h6XSAtIHN3aXRjaGluZyBmcmVxdWVuY3kgb2YgYm9vc3QgY29udmVydGVyCg"
"pEQ0RDLk1pbkR1dHkgPSAwLjA7ICUgW10gLSBtaW5pbXVtIGFsbG93YWJsZSBkdXR5IGN5Y2xlIGZ"
"vciBib29zdCBjb252ZXJ0ZXIKRENEQy5NYXhEdXR5ID0gMC45NTsgJSBbXSAtIG1heGltdW0gYWxs"
"b3dhYmxlIGR1dHkgY3ljbGUgZm9yIGJvb3N0IGNvbnZlcnRlcgoKJSUgQ3VycmVudC1jb250cm9sb"
"GVyOgoKJSBTbWFsbCB0aW1lIGNvbnN0YW50czoKCkNDX0RDREMuVF9zdyA9IDEvRENEQy5mc3c7IC"
"AlIFtzXSAtIHN3aXRjaGluZyBwZXJpb2QKQ0NfRENEQy5UX1BXTSA9IDAuNSpDQ19EQ0RDLlRfc3c"
"7ICUgW3NdIC0gUFdNIG1vZHVsYXRvciBzbWFsbCB0aW1lIGNvbnN0YW50CgpDQ19EQ0RDLlRfY3Mg"
"PSAyLygyKnBpKig1MGUzKSk7ICUgW3NdIC0gQ3VycmVudCBzZW5zb3Igc21hbGwgdGltZSBjb25zd"
"GFudCAoNTAga0h6IGJhbmR3aWR0aCkKCkNDX0RDREMuZl9zYW1wID0gRENEQy5mc3c7ICUgW0h6XS"
"AtIFNhbXBsaW5nIGZyZXF1ZW5jeQpDQ19EQ0RDLlRfc2FtcCA9IDEvQ0NfRENEQy5mX3NhbXA7ICU"
"gW3NdIC0gU2FtcGxpbmcgc21hbGwgdGltZSBjb25zdGFudAoKQ0NfRENEQy5UX3BlID0gQ0NfRENE"
"Qy5UX1BXTSArIENDX0RDREMuVF9jcyArIENDX0RDREMuVF9zYW1wOyAlIFtzXSAtIEVxdWl2YWxlb"
"nQgc21hbGwgdGltZSBjb25zdGFudAoKJSBEb21pbmFudCB0aW1lIGNvbnN0YW50czoKQ0NfRENEQy"
"5UbiA9IERDREMuTC9EQ0RDLlI7ICUgW10gLSB0aW1lIGNvbnN0YW50IGZvciBudW1lcmF0b3IKQ0N"
"fRENEQy5UaSA9ICgyKkNDX0RDREMuVF9wZSkvRENEQy5SOyAlIFtdIC0gdGltZSBjb25zdGFudCBm"
"b3IgZGVub21pbmF0b3IKCiUgQ29udHJvbGxlciBEZXNpZ246CkNDX0RDREMuS3A9Q0NfRENEQy5Ub"
"i9DQ19EQ0RDLlRpOyAlIFtdIC0gS3AgZ2FpbgpDQ19EQ0RDLktpPTEvQ0NfRENEQy5UaTsgICAgIC"
"UgW0h6XSAtIEtpIGdhaW4KQ0NfRENEQy5LX2F3PTEvQ0NfRENEQy5LcDsgICAlIFtdIC0gYW50aS1"
"3aW5kdXAgZ2FpbgpDQ19EQ0RDLnVwcGVyPVNQLlZfT0NfbipTUC5Oc2VyOwpDQ19EQ0RDLmxvd2Vy"
"PTA7CgolJSBWb2x0YWdlIGNvbnRyb2xsZXIgKERDREMpClZDX0RDREMuVHBfVmxvb3AgPSAxMC9EQ"
"0RDLmZzdzsKVkNfRENEQy5Uc3A9VkNfRENEQy5UcF9WbG9vcDsKVkNfRENEQy5UaV9WbG9vcCA9ID"
"gvU1AuQ19pbipWQ19EQ0RDLlRwX1Zsb29wKlZDX0RDREMuVHBfVmxvb3A7ClZDX0RDREMuVG5fVmx"
"vb3AgPSA0KlZDX0RDREMuVHBfVmxvb3A7CgpWQ19EQ0RDLktwID0gVkNfRENEQy5Ubl9WbG9vcC9W"
"Q19EQ0RDLlRpX1Zsb29wOwpWQ19EQ0RDLktpID0gMS9WQ19EQ0RDLlRpX1Zsb29wOwoKVkNfRENEQ"
"y5LX2F3PTEvVkNfRENEQy5LcDsKVkNfRENEQy51cHBlcj0zMDsKVkNfRENEQy5sb3dlcj0wOwoKJW"
"RvZGFvdGtvd2UgcGFyYW1ldHJ5ClZmX2Rpb2RhID0gMC44NSAlc3BhZGVrIG5hcGnEmWNpYSBuYSB"
"kaW9kemllIAo="
  InitialState  "1"
  SystemState   ""
  TaskingMode   "1"
  TaskConfigurations ""
  CodeGenParameterInlining "2"
  CodeGenFloatingPointFormat "2"
  CodeGenAbsTimeUsageMsg "3"
  CodeGenBaseName ""
  CodeGenOutputDir ""
  CodeGenExtraOpts ""
  CodeGenTarget "Generic"
  CodeGenTargetSettings ""
  ExtendedMatrixPrecision "1"
  MatrixSignificanceCheck "2"
  EnableStateSpaceSplitting "2"
  DisplayStateSpaceSplitting "1"
  DiscretizationMethod "2"
  ExternalModeSettings ""
  AlgebraicLoopMethod "1"
  AlgebraicLoopTolerance "1e-6"
  ScriptsDialogGeometry "[764 395 446 243]"
  ScriptsDialogSplitterPos "100"
  Schematic {
    Location      [0, 27; 1920, 997]
    ZoomFactor    0.848856
    SliderPosition [174, 0]
    ShowBrowser   off
    BrowserWidth  100
    Component {
      Type          Capacitor
      Name          "C1"
      Show          off
      Position      [245, 540]
      Direction     down
      Flipped       on
      LabelPosition west
      Parameter {
        Variable      "C"
        Value         "SP.C_in"
        Show          off
      }
      Parameter {
        Variable      "v_init"
        Value         "SP.V_OC_n * SP.Nser"
        Show          off
      }
    }
    Component {
      Type          Inductor
      Name          "L2"
      Show          off
      Position      [345, 485]
      Direction     left
      Flipped       off
      LabelPosition north
      Parameter {
        Variable      "L"
        Value         "DCDC.L"
        Show          off
      }
      Parameter {
        Variable      "i_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Diode
      Name          "D4"
      Show          off
      Position      [125, 290]
      Direction     down
      Flipped       off
      LabelPosition east
      Parameter {
        Variable      "Vf"
        Value         "0.85"
        Show          off
      }
      Parameter {
        Variable      "Ron"
        Value         "0.0425"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Igbt
      Name          "IGBT1"
      Show          off
      Position      [415, 535]
      Direction     up
      Flipped       off
      LabelPosition east
      Parameter {
        Variable      "Vf"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "Ron"
        Value         "DCDC.T.Ron"
        Show          off
      }
      Parameter {
        Variable      "s_init"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          XYPlot
      Name          "P vs V"
      Show          on
      Position      [1660, 245]
      Direction     up
      Flipped       off
      LabelPosition south
      Location      [0, 27; 1283, 727]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAAvsAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAADQA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGYA////AAAAAwAAAAAAAAAA/AEAAAAB+wAAABIAVABpAG0AZQBSAGEAbgBnAGUAAAAAAP/"
"///8AAAB4AP///wAABQMAAAKhAAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBv"
"AGwAQgBhAHIBAAAAAP////8AAAAAAAAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   ""
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      TimeRange     "0.0"
      ShownPeriods  "1"
      Open          "1"
      Ts            "1e-3"
      SampleLimit   "0"
      XAxisLabel    "Panel Voltage (V)"
      AspectRatioX  "-1"
      AspectRatioY  "-1"
      PlotStyle     "1"
      ShowLegend    "1"
      Axis {
        Name          "P-V curve"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        AxisLabel     "Panel Power (W)"
      }
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
      }
    }
    Component {
      Type          PlecsProbe
      Name          "PV V, I"
      Show          on
      Position      [570, 505]
      Direction     right
      Flipped       off
      LabelPosition south
      Probe {
        Component     "C1"
        Path          ""
        Signals       {"Capacitor voltage"}
      }
      Probe {
        Component     "Am"
        Path          ""
        Signals       {"Measured current"}
      }
    }
    Component {
      Type          From
      Name          "From"
      Show          off
      Position      [1610, 255]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "P_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From2"
      Show          off
      Position      [1610, 235]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "V_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto2"
      Show          off
      Position      [695, 505]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "P_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          PlecsProbe
      Name          "V_bus"
      Show          on
      Position      [1530, 565]
      Direction     right
      Flipped       off
      LabelPosition south
      Probe {
        Component     "C3"
        Path          ""
        Signals       {"Capacitor voltage"}
      }
    }
    Component {
      Type          Ammeter
      Name          "Am"
      Show          off
      Position      [305, 485]
      Direction     left
      Flipped       off
      LabelPosition south
    }
    Component {
      Type          Goto
      Name          "Goto4"
      Show          off
      Position      [305, 445]
      Direction     up
      Flipped       off
      LabelPosition east
      Parameter {
        Variable      "Tag"
        Value         "i_L"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Resistor
      Name          "R2"
      Show          off
      Position      [385, 485]
      Direction     right
      Flipped       on
      LabelPosition south
      Parameter {
        Variable      "R"
        Value         "DCDC.R"
        Show          off
      }
    }
    Component {
      Type          SignalMux
      Name          "Mux4"
      Show          off
      Position      [80, 720]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Width"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From4"
      Show          off
      Position      [465, 765]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "i_L"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From6"
      Show          off
      Position      [275, 765]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "V_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto5"
      Show          off
      Position      [805, 715]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "pwm"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From3"
      Show          off
      Position      [375, 535]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "pwm"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "PWM"
      Show          on
      Position      [730, 705]
      Direction     up
      Flipped       off
      LabelPosition none
      Frame         [-45, -25; 45, 25]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [49, 10]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-45, -5]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [49, -15]
        Direction     right
      }
      Schematic {
        Location      [0, 77; 1536, 841]
        ZoomFactor    1.30957
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Reference
          SrcComponent  "Components/Control/Modulators/Symmetrical PWM"
          Name          "Symmetrical \nPWM"
          Show          on
          Position      [435, 135]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-20, -20; 20, 20]
          Parameter {
            Variable      "sampling"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "fc"
            Value         "DCDC.fsw"
            Show          off
          }
          Parameter {
            Variable      "carrier_phaseshift"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "carrier_limits"
            Value         "[0.0 1.0]"
            Show          off
          }
          Parameter {
            Variable      "output_values"
            Value         "[0 1]"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [24, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 0]
            Direction     left
          }
        }
        Component {
          Type          Gain
          Name          "V_set -> m"
          Show          off
          Position      [290, 135]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "1/(SP.Nser*SP.V_OC_n)"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "time"
          Show          on
          Position      [545, 135]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "ref"
          Show          on
          Position      [230, 135]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "duty_scope"
          Show          on
          Position      [550, 90]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Saturation
          Name          "Saturation"
          Show          on
          Position      [350, 135]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "UpperLimit"
            Value         "1.0"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "0.0"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "ref"
          SrcTerminal   1
          DstComponent  "V_set -> m"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "V_set -> m"
          SrcTerminal   2
          DstComponent  "Saturation"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Saturation"
          SrcTerminal   2
          Points        [390, 135]
          Branch {
            DstComponent  "Symmetrical \nPWM"
            DstTerminal   2
          }
          Branch {
            Points        [390, 90]
            DstComponent  "duty_scope"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Symmetrical \nPWM"
          SrcTerminal   1
          DstComponent  "time"
          DstTerminal   1
        }
      }
    }
    Component {
      Type          From
      Name          "From7"
      Show          off
      Position      [55, 715]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "V_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From8"
      Show          off
      Position      [55, 725]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "i_L"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Step
      Name          "PI_ON"
      Show          on
      Position      [60, 50]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Time"
        Value         "Ts_mppt"
        Show          on
      }
      Parameter {
        Variable      "Before"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "After"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto7"
      Show          off
      Position      [125, 50]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "PIon"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From11"
      Show          off
      Position      [565, 690]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "PIon"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From12"
      Show          off
      Position      [405, 690]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "PIon"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto8"
      Show          off
      Position      [145, 185]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "G"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto9"
      Show          off
      Position      [150, 120]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "T"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Step
      Name          "Step"
      Show          off
      Position      [55, 185]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Time"
        Value         "2.5"
        Show          off
      }
      Parameter {
        Variable      "Before"
        Value         "1"
        Show          on
      }
      Parameter {
        Variable      "After"
        Value         "0.8"
        Show          on
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          Step
      Name          "Step1"
      Show          off
      Position      [55, 120]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Time"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "Before"
        Value         "5"
        Show          on
      }
      Parameter {
        Variable      "After"
        Value         "25"
        Show          on
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From17"
      Show          off
      Position      [1370, 220]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "G"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From18"
      Show          off
      Position      [1380, 185]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "T"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Scope
      Name          "MPPT"
      Show          on
      Position      [1480, 235]
      Direction     up
      Flipped       off
      LabelPosition south
      Location      [178, 67; 931, 767]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAADHAAADJPwCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAAKwA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGYA////+wAAAAwAVAByAGEAYwBlAHMAAAAALwAAAyQAAABmAP///wAAAAMAAAAAAAAAAPw"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABQAP///wAAAvEAAAKhAAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAAAAJAAAAA"
"wAAAH0AAAAIAAAAfQAAAAkAAAB9AAAABAAAAH0AAAAFAAAAfQAAAAYAAAB9AAAABwAAAH0AAAABAA"
"AAfQAAAAIAAAB9AAAA3gAAAAsBAAABAAAAAAAAAAAAAAAAZP////8AAACBAAAAAAAAAAsAAAC6AAA"
"AAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAA"
"AAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAA"
"AAkAAAAAQAAAAAAAAPoAAAAACQ="
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      Axes          "1"
      TimeRange     "0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "1"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    "Time (s)"
      ShowLegend    "1"
      Axis {
        Name          "Voltages (Reference & Actual)"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        AxisLabel     "V"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          SignalMux
      Name          "Mux1"
      Show          off
      Position      [1240, 240]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Width"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From14"
      Show          off
      Position      [1255, 285]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "P_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From19"
      Show          off
      Position      [1205, 225]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "V_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto10"
      Show          off
      Position      [280, 650]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "vref"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From20"
      Show          off
      Position      [1205, 245]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "vref"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Gain
      Name          "Gain"
      Show          off
      Position      [1405, 220]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "K"
        Value         "1e3"
        Show          off
      }
      Parameter {
        Variable      "Multiplication"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "11"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "MPP Controller"
      Show          on
      Position      [155, 720]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Parameter {
        Variable      "stepSize"
        Prompt        "Step size, in Volts"
        Type          FreeText
        Value         "5"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Tf"
        Prompt        "Filter time constant"
        Type          FreeText
        Value         "4e-3"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ts"
        Prompt        "Sample time"
        Type          FreeText
        Value         "Ts_mppt"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Output
        Position      [24, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Schematic {
        Location      [346, 161; 888, 514]
        ZoomFactor    0.949816
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          CScript
          Name          "Vref"
          Show          off
          Position      [280, 65]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "DialogGeometry"
            Value         "[0 34 1920 1046]"
            Show          off
          }
          Parameter {
            Variable      "NumInputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "ts"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         "stepSize"
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "GnuExtensions"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         "#include<stdint.h>\n"
"#include<stdbool.h>\n"
"\n"
"#define V Input(0)\n"
"#define I Input(1)\n"
"#define P_old DiscState(0)\n"
"#define V_old DiscState(1)\n"
"#define DPDV_MAX 10\n"
"#define DPDV_MIN -10\n"
"\n"
"#define REF_MAX 1000.0f\n"
"#define REF_MIN 0.0f\n"
"\n"
"#define K ParamRealData(0,0)\n"
"\n"
"#define Saturation(in, lim_L, lim_H)\\\n   if(in < lim_L) in = lim_L;      \\"
"\n   if(in > lim_H) in = lim_H;    \n"
"   \n"
"typedef float float32_t;\n"
" \n"
"static double P;\n"
"\n"
"\n"
"static inline float32_t Saturation_out(float32_t in, float32_t lim_L, float32"
"_t lim_H)\n"
"{\n"
"\tif (in > lim_H) in =  lim_H;\n"
"\tif (in < lim_L) in =  lim_L;\n"
"\treturn in;\n"
"}"
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         "P_old = P;\n"
"V_old = V;\n"
"Output(0) = V;\n"
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         "double dP, dV, dPdV;\n"
"\n"
"P = V*I;\n"
"dP = P - P_old;\n"
"dV = V - V_old;\n"
"\n"
"uint16_t init = 1U;\n"
"float tmpOut;\n"
"\n"
"if (init && P < 100.0)\n"
"{\n"
"\ttmpOut = V;\n"
"\ttmpOut -=5.0;\n"
"}\n"
"else\n"
"{\n"
"init = 0U;\n"
"\n"
"dPdV = dP/dV;\n"
"\n"
"if (dPdV > DPDV_MAX)\n"
"\tdPdV = DPDV_MAX;\n"
"if (dPdV < DPDV_MIN)\n"
"\tdPdV = DPDV_MIN;\n"
"\t\n"
"float signOfDeltaVoltage = (V - V_old > 0.0f) ? 1.0f : -1.0f;\n"
"float signOfDeltaPower   = (P - P_old > 0.0f) ? 1.0f : -1.0f;\n"
"\n"
"tmpOut = V + K * signOfDeltaVoltage * signOfDeltaPower;\n"
"}\n"
"Saturation(tmpOut,REF_MIN,REF_MAX);\n"
"  \n"
"Output(0) = tmpOut;\n"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         "P_old = P;\n"
"V_old = V;\n"
"\n"
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "StoreCustomStateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "RestoreCustomStateFcn"
            Value         ""
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "vref"
          Show          on
          Position      [380, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "v,i"
          Show          on
          Position      [95, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          TransferFunction
          Name          "Transfer Fcn"
          Show          on
          Position      [175, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-30, -15; 30, 15]
          Parameter {
            Variable      "Numerator"
            Value         "[1]"
            Show          off
          }
          Parameter {
            Variable      "Denominator"
            Value         "[Tf 1]"
            Show          off
          }
          Parameter {
            Variable      "X0"
            Value         "1.9"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Vref"
          SrcTerminal   2
          DstComponent  "vref"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "v,i"
          SrcTerminal   1
          DstComponent  "Transfer Fcn"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Transfer Fcn"
          SrcTerminal   2
          DstComponent  "Vref"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "filtered"
      }
    }
    Component {
      Type          XYPlot
      Name          "P vs V1"
      Show          on
      Position      [1660, 195]
      Direction     up
      Flipped       off
      LabelPosition south
      Location      [313, 30; 1271, 720]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAAvsAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAADQA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGYA////AAAAAwAAAAAAAAAA/AEAAAAB+wAAABIAVABpAG0AZQBSAGEAbgBnAGUAAAAAAP/"
"///8AAAB4AP///wAAA74AAAKXAAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBv"
"AGwAQgBhAHIBAAAAAP////8AAAAAAAAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   ""
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      TimeRange     "0.0"
      ShownPeriods  "1"
      Open          "1"
      Ts            "1e-3"
      SampleLimit   "0"
      XAxisLabel    "Panel Voltage (V)"
      AspectRatioX  "-1"
      AspectRatioY  "-1"
      PlotStyle     "1"
      ShowLegend    "1"
      Axis {
        Name          "I-V curve"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        AxisLabel     "Panel Current (A)"
      }
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
      }
    }
    Component {
      Type          From
      Name          "From23"
      Show          off
      Position      [1610, 205]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "i_L"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From24"
      Show          off
      Position      [1610, 185]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "V_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Scope
      Name          "PWM2"
      Show          off
      Position      [1615, 545]
      Direction     up
      Flipped       off
      LabelPosition south
      Location      [0, 26; 1283, 706]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAADhAAAClfwCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAAEwA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAJcA////+wAAAAwAVAByAGEAYwBlAHMAAAAALwAAApUAAACXAP///wAAAAMAAAeEAAAAiPw"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQBAAAAAAAAB4QAAABxAP///wAAB4QAAANLAAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAAAAJAAAAA"
"QAAAH0AAAADAAAAfQAAAAIAAAB9AAAABQAAAH0AAAAEAAAAfQAAAAcAAAB9AAAABgAAAH0AAAAJAA"
"AAfQAAAAgAAAB9AAAHagAAAAsBAAABAAAAAAAAAAAAAAAAlv////8AAACBAAAAAAAAAAsAAACqAAA"
"AAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAA"
"AAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAA"
"AbAAAAAAQAAAAAAAAPoAAAAADU="
      PlotPalettes  "AAAAAQAAAAYAAAACAAAAAwAAAAIB//+qqgAAAAAAAAH//wAAAAD//wAAA"
"AAAAgL//wAA/////wAAAv//AAD//8zMAAAAAAACAv//T7D/////AAAC//9PsP//zMwAAAAAAAMAAA"
"ACAQEAAAACAAAAAAACAAAAAAADAAAAAgAAAAEAAAABAAAAAgAAAAEAAAABAAAAAgAAAAEAAAABAAA"
"AAwAAAAIAAAAAAAIAAAAAAAIAAAAAAAMAAAACQAAAAAAAAABAAAAAAAAAAAAAAAJAAAAAAAAAAEAA"
"AAAAAAAAAAAAAkAAAAAAAAAAQAAAAAAAAAAAAAADAAAAAgAAAAAAAgAAAAAAAgAA"
      Axes          "1"
      TimeRange     "0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "0"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    ""
      ShowLegend    "1"
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          SignalMux
      Name          "Mux3"
      Show          off
      Position      [1575, 545]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Width"
        Value         "3"
        Show          off
      }
    }
    Component {
      Type          Sum
      Name          "Sum"
      Show          off
      Position      [505, 700]
      Direction     up
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "IconShape"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "Inputs"
        Value         "|+-"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "11"
        Show          off
      }
    }
    Component {
      Type          Sum
      Name          "Sum1"
      Show          off
      Position      [310, 700]
      Direction     up
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "IconShape"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "Inputs"
        Value         "|+-"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "11"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "Current Controller"
      Show          on
      Position      [605, 700]
      Direction     up
      Flipped       off
      LabelPosition southSouthwest
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Parameter {
        Variable      "Kp"
        Prompt        "Proportional Gain"
        Type          FreeText
        Value         "10"
        Show          off
        Tunable       on
        TabName       ""
      }
      Parameter {
        Variable      "Ki"
        Prompt        "Integral Gain"
        Type          FreeText
        Value         "60"
        Show          off
        Tunable       on
        TabName       ""
      }
      Parameter {
        Variable      "Limit"
        Prompt        "Limit"
        Type          FreeText
        Value         "1000"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Output
        Position      [24, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-20, -10]
        Direction     left
      }
      Schematic {
        Location      [551, 382; 1536, 734]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Gain
          Name          "P"
          Show          on
          Position      [115, 55]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "Kp"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "K"
          Show          on
          Position      [115, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "Ki"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Saturation
          Name          "Saturation"
          Show          on
          Position      [360, 55]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "UpperLimit"
            Value         "Limit"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "-Limit"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "Out"
          Show          on
          Position      [430, 55]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "In"
          Show          on
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Product
          Name          "Product"
          Show          on
          Position      [195, 110]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Integrator
          Name          "Integrator"
          Show          on
          Position      [270, 115]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "ExternalReset"
            Value         "5"
            Show          off
          }
          Parameter {
            Variable      "InitialConditionSource"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "x0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "ShowStatePort"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "EnableWrapping"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "UpperLimit"
            Value         "inf"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "-inf"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum1"
          Show          off
          Position      [300, 55]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|++"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          LogicalOperator
          Name          "Anti reset-windup"
          Show          on
          Position      [190, 210]
          Direction     down
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum2"
          Show          off
          Position      [270, 210]
          Direction     down
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "-+"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          LogicalOperator
          Name          "Logical\nOperator"
          Show          on
          Position      [95, 150]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "On"
          Show          on
          Position      [35, 150]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Product"
          SrcTerminal   1
          DstComponent  "Integrator"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum2"
          SrcTerminal   1
          DstComponent  "Anti reset-windup"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Anti reset-windup"
          SrcTerminal   1
          Points        [165, 210]
          DstComponent  "Product"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "K"
          SrcTerminal   2
          DstComponent  "Product"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Integrator"
          SrcTerminal   2
          Points        [300, 115]
          DstComponent  "Sum1"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum1"
          SrcTerminal   1
          Points        [325, 55]
          Branch {
            DstComponent  "Saturation"
            DstTerminal   1
          }
          Branch {
            Points        [325, 205]
            DstComponent  "Sum2"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "P"
          SrcTerminal   2
          DstComponent  "Sum1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "In"
          SrcTerminal   1
          Points        [80, 80]
          Branch {
            Points        [80, 55]
            DstComponent  "P"
            DstTerminal   1
          }
          Branch {
            Points        [80, 105]
            DstComponent  "K"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Saturation"
          SrcTerminal   2
          Points        [390, 55]
          Branch {
            DstComponent  "Out"
            DstTerminal   1
          }
          Branch {
            Points        [390, 215]
            DstComponent  "Sum2"
            DstTerminal   3
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Logical\nOperator"
          SrcTerminal   1
          Points        [235, 150; 235, 120]
          DstComponent  "Integrator"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "On"
          SrcTerminal   1
          DstComponent  "Logical\nOperator"
          DstTerminal   2
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "Voltage Controller"
      Show          on
      Position      [445, 700]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Parameter {
        Variable      "Kp"
        Prompt        "Proportional Gain"
        Type          FreeText
        Value         "-0.02"
        Show          off
        Tunable       on
        TabName       ""
      }
      Parameter {
        Variable      "Ki"
        Prompt        "Integral Gain"
        Type          FreeText
        Value         "-20"
        Show          off
        Tunable       on
        TabName       ""
      }
      Parameter {
        Variable      "Limit"
        Prompt        "Limit"
        Type          FreeText
        Value         "10000"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Output
        Position      [24, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-20, -10]
        Direction     left
      }
      Schematic {
        Location      [656, 382; 1641, 734]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Gain
          Name          "P"
          Show          on
          Position      [115, 55]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "Kp"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "K"
          Show          on
          Position      [115, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "Ki"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Saturation
          Name          "Saturation"
          Show          on
          Position      [360, 55]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "UpperLimit"
            Value         "Limit"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "-Limit"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "Out"
          Show          on
          Position      [430, 55]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "In"
          Show          on
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Product
          Name          "Product"
          Show          on
          Position      [195, 110]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Integrator
          Name          "Integrator"
          Show          on
          Position      [270, 115]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "ExternalReset"
            Value         "5"
            Show          off
          }
          Parameter {
            Variable      "InitialConditionSource"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "x0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "ShowStatePort"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "EnableWrapping"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "UpperLimit"
            Value         "inf"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "-inf"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum1"
          Show          off
          Position      [300, 55]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|++"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          LogicalOperator
          Name          "Anti reset-windup"
          Show          on
          Position      [190, 210]
          Direction     down
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum2"
          Show          off
          Position      [270, 210]
          Direction     down
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "-+"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          LogicalOperator
          Name          "Logical\nOperator"
          Show          on
          Position      [95, 150]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "On"
          Show          on
          Position      [35, 150]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Product"
          SrcTerminal   1
          DstComponent  "Integrator"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum2"
          SrcTerminal   1
          DstComponent  "Anti reset-windup"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Anti reset-windup"
          SrcTerminal   1
          Points        [165, 210]
          DstComponent  "Product"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "K"
          SrcTerminal   2
          DstComponent  "Product"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Integrator"
          SrcTerminal   2
          Points        [300, 115]
          DstComponent  "Sum1"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum1"
          SrcTerminal   1
          Points        [325, 55]
          Branch {
            DstComponent  "Saturation"
            DstTerminal   1
          }
          Branch {
            Points        [325, 205]
            DstComponent  "Sum2"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "P"
          SrcTerminal   2
          DstComponent  "Sum1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "In"
          SrcTerminal   1
          Points        [80, 80]
          Branch {
            Points        [80, 55]
            DstComponent  "P"
            DstTerminal   1
          }
          Branch {
            Points        [80, 105]
            DstComponent  "K"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Saturation"
          SrcTerminal   2
          Points        [390, 55]
          Branch {
            DstComponent  "Out"
            DstTerminal   1
          }
          Branch {
            Points        [390, 215]
            DstComponent  "Sum2"
            DstTerminal   3
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Logical\nOperator"
          SrcTerminal   1
          Points        [235, 150; 235, 120]
          DstComponent  "Integrator"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "On"
          SrcTerminal   1
          DstComponent  "Logical\nOperator"
          DstTerminal   2
        }
      }
    }
    Component {
      Type          From
      Name          "From25"
      Show          off
      Position      [1545, 545]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "V_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          ManualSignalSwitch
      Name          "Manual Switch"
      Show          on
      Position      [230, 700]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "SwitchState"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          PulseGenerator
      Name          "Manual_reference"
      Show          on
      Position      [155, 675]
      Direction     left
      Flipped       on
      LabelPosition north
      Parameter {
        Variable      "Hi"
        Value         "250"
        Show          off
      }
      Parameter {
        Variable      "Lo"
        Value         "200"
        Show          off
      }
      Parameter {
        Variable      "f"
        Value         "5"
        Show          off
      }
      Parameter {
        Variable      "DutyCycle"
        Value         "0.5"
        Show          off
      }
      Parameter {
        Variable      "Delay"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From21"
      Show          off
      Position      [1545, 530]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "vref"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          TransferFunction
      Name          "Transfer Fcn"
      Show          off
      Position      [1340, 285]
      Direction     right
      Flipped       off
      LabelPosition south
      Frame         [-30, -15; 30, 15]
      Parameter {
        Variable      "Numerator"
        Value         "[1]"
        Show          off
      }
      Parameter {
        Variable      "Denominator"
        Value         "[2e-3 1]"
        Show          off
      }
      Parameter {
        Variable      "X0"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Vpv"
      Show          on
      Position      [640, 545]
      Direction     right
      Flipped       off
      LabelPosition south
      Probe {
        Component     "C1"
        Path          ""
        Signals       {"Capacitor voltage"}
      }
    }
    Component {
      Type          Goto
      Name          "Goto3"
      Show          off
      Position      [685, 545]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "V_pv"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "Sub1"
      Show          off
      Position      [635, 510]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-25, -20; 25, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [29, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-25, 0]
        Direction     left
      }
      Schematic {
        Location      [0, 26; 1283, 688]
        ZoomFactor    4.40773
        SliderPosition [-3, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          SignalDemux
          Name          "Demux3"
          Show          off
          Position      [155, 65]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Product
          Name          "Product"
          Show          off
          Position      [225, 65]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "P_pv"
          Show          on
          Position      [285, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "V,I"
          Show          on
          Position      [30, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Control/Filters/Moving Average"
          Name          "Moving Average"
          Show          on
          Position      [85, 65]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-15, -15; 15, 15]
          Parameter {
            Variable      "x0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_period"
            Value         "CC_DCDC.T_sw"
            Show          off
          }
          Parameter {
            Variable      "buffer_size"
            Value         "1024"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [19, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-15, 0]
            Direction     left
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Product"
          SrcTerminal   1
          DstComponent  "P_pv"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux3"
          SrcTerminal   2
          DstComponent  "Product"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux3"
          SrcTerminal   3
          DstComponent  "Product"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "V,I"
          SrcTerminal   1
          DstComponent  "Moving Average"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Moving Average"
          SrcTerminal   1
          DstComponent  "Demux3"
          DstTerminal   1
        }
      }
    }
    Component {
      Type          From
      Name          "From22"
      Show          off
      Position      [140, 540]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "G"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From26"
      Show          off
      Position      [140, 550]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "T"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto11"
      Show          off
      Position      [140, 565]
      Direction     right
      Flipped       on
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "Tm"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          SignalMux
      Name          "Mux"
      Show          off
      Position      [1425, 190]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Width"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From27"
      Show          off
      Position      [1360, 195]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "Tm"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "PV_Villalva2"
      Show          off
      Position      [180, 545]
      Direction     up
      Flipped       off
      LabelPosition northwest
      Frame         [-15, -25; 15, 25]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "PV String"
      MaskDescription "Single-diode model of Photovoltaic String as proposed i"
"n \"Comprephensive Approach to Modeling and Simulation of Photovoltaic Arrays"
"\""
      MaskDisplay   "line([-15 0 15], [-25 -7 -25])"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "k = 1.3806503e-23; % [J/K] - Boltzmann constant\n"
"q = 1.60217646e-19; % [C] - electron charge"
      Parameter {
        Variable      "Ns"
        Prompt        "Number of PV cells in string"
        Type          FreeText
        Value         "SP.Ns"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Nser"
        Prompt        "Number of series connected modules"
        Type          FreeText
        Value         "SP.Nser"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Np"
        Prompt        "Number of strings in parallel"
        Type          FreeText
        Value         "SP.Np"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "NOCT"
        Prompt        "NOCT"
        Type          FreeText
        Value         "SP.NOCT"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "V_OCn"
        Prompt        "Nominal Open-Circuit Cell Voltage"
        Type          FreeText
        Value         "SP.V_OC_n"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "I_SCn"
        Prompt        "Nominal Short-Circuit Cell Current"
        Type          FreeText
        Value         "SP.I_SC_n"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rs"
        Prompt        "Equivalent Panel Series Resistance"
        Type          FreeText
        Value         "SP.Rs"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rp"
        Prompt        "Equivalent Panel Shunt Resistance"
        Type          FreeText
        Value         "SP.Rp"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "a"
        Prompt        "Diode Ideality Constant"
        Type          FreeText
        Value         "SP.a"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "KV"
        Prompt        "Voltage-Temperature Coefficient"
        Type          FreeText
        Value         "SP.K_V"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "KI"
        Prompt        "Current-Temperature Coefficient"
        Type          FreeText
        Value         "SP.K_I"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_delay"
        Prompt        "Low Pass Filter Time Constant"
        Type          FreeText
        Value         "1e-5"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Port
        Position      [0, -30]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 30]
        Direction     down
      }
      Terminal {
        Type          Input
        Position      [-15, 5]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-15, -5]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [-19, 20]
        Direction     left
      }
      Schematic {
        Location      [0, 27; 1175, 777]
        ZoomFactor    1.71498
        SliderPosition [-1, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Ammeter
          Name          "I_PV"
          Show          off
          Position      [560, 90]
          Direction     left
          Flipped       off
          LabelPosition south
        }
        Component {
          Type          SignalMux
          Name          "CMux"
          Show          off
          Position      [610, 30]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          CurrentSource
          Name          "Im"
          Show          on
          Position      [440, 130]
          Direction     down
          Flipped       on
          LabelPosition east
          Parameter {
            Variable      "DiscretizationBehavior"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "StateSpaceInlining"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Voltmeter
          Name          "V1"
          Show          off
          Position      [605, 130]
          Direction     down
          Flipped       on
          LabelPosition east
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [667, 90]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [667, 170]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "T"
          Show          on
          Position      [70, 215]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "Rp"
          Show          on
          Position      [480, 130]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "R"
            Value         "(Nser/Np)*Rp"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "Rs"
          Show          on
          Position      [515, 90]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "R"
            Value         "(Nser/Np)*Rs"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "G"
          Show          on
          Position      [30, 130]
          Direction     left
          Flipped       on
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          SignalMux
          Name          "CMux2"
          Show          off
          Position      [130, 125]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "4"
            Show          off
          }
        }
        Component {
          Type          TransferFunction
          Name          "LPF"
          Show          on
          Position      [375, 130]
          Direction     left
          Flipped       on
          LabelPosition north
          Frame         [-30, -15; 30, 15]
          Parameter {
            Variable      "Numerator"
            Value         "[1]"
            Show          off
          }
          Parameter {
            Variable      "Denominator"
            Value         "[t_delay 1]"
            Show          off
          }
          Parameter {
            Variable      "X0"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "Nominal irradiance"
          Show          on
          Position      [80, 130]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "1000"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          CScript
          Name          "C-Script"
          Show          on
          Position      [185, 125]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "DialogGeometry"
            Value         "[376 264 831 695]"
            Show          off
          }
          Parameter {
            Variable      "NumInputs"
            Value         "4"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         "Ns,Np,V_OCn,I_SCn,Rs,Rp,a,KV,KI,k,q,Nser,NOCT"
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "GnuExtensions"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         "#include <math.h>\n"
"\n"
"static double Ns;\n"
"static double Np;\n"
"static double Nser;\n"
"\n"
"const static double Tn =25.0 + 273.15;\n"
"const static double Gn= 1000.0;\n"
"static double V_OC_n;\n"
"static double I_SC_n;\n"
"\n"
"static double Rs;\n"
"static double Rp;\n"
"\n"
"static double a;\n"
"\n"
"static double KV;\n"
"static double KI;\n"
"\n"
"static double k;\n"
"static double q;\n"
"\n"
"static double I_PV_n;\n"
"static double NOCT;\n"
"\n"
"#define I InputSignal(0,0)\n"
"#define V InputSignal(0,1)\n"
"#define G InputSignal(0,2)\n"
"#define T InputSignal(0,3)"
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         "Ns = ParamRealData(0,0);\n"
"Np = ParamRealData(1,0);\n"
"\n"
"//Tn = ParamRealData(2,0) + 273.15;\n"
"//Gn = ParamRealData(3,0);\n"
"V_OC_n = ParamRealData(2,0);\n"
"I_SC_n = ParamRealData(3,0);\n"
"\n"
"Rs = ParamRealData(4,0);\n"
"Rp = ParamRealData(5,0);\n"
"\n"
"a = ParamRealData(6,0);\n"
"\n"
"KV = ParamRealData(7,0);\n"
"KI = ParamRealData(8,0);\n"
"\n"
"k = ParamRealData(9,0);\n"
"\n"
"q = ParamRealData(10,0);\n"
"\n"
"Nser = ParamRealData(11,0);\n"
"\n"
"I_PV_n = I_SC_n;\n"
"\n"
"NOCT = ParamRealData(12,0);"
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         "double I_pv_cell, I_pv_array, I_0_cell, I_0_array, "
"I_m;\n"
"double T_module = G*(NOCT-20.0)/800.0 + T;\n"
"double T_Kelvin =  T_module + 273.15;\n"
"\n"
"double delta_T = T_Kelvin - Tn;\n"
"\n"
"double V_t = Ns*k*T_Kelvin/q;\n"
"\n"
"I_pv_cell = (I_PV_n + KI * delta_T) * (G/Gn);\n"
"I_pv_array = I_pv_cell * Np;\n"
"\n"
"I_0_cell = (I_SC_n + KI * delta_T) / ( exp( (V_OC_n + KV * delta_T) / (a*V_t)"
" ) - 1);\n"
"I_0_array = I_0_cell * Np;\n"
"\n"
"I_m = I_pv_array - I_0_array * ( exp( (V + Rs * (Nser/Np) * I) / (a*V_t*Nser)"
" ) - 1) ;\n"
"\n"
"if (I_m < -1e9)\n"
"{\n"
"  I_m = -1e9;   // helps solver avoid setting I_m to -inf during minor step\n"
"}\n"
"\n"
"OutputSignal(0,0) = I_m;\n"
"OutputSignal(0,1) = T_module;"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "StoreCustomStateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "RestoreCustomStateFcn"
            Value         ""
            Show          off
          }
        }
        Component {
          Type          Saturation
          Name          "Saturation"
          Show          off
          Position      [305, 120]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "UpperLimit"
            Value         "inf"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          SignalDemux
          Name          "Demux"
          Show          off
          Position      [245, 125]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "Tm"
          Show          on
          Position      [310, 185]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "5"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "-"
          SrcTerminal   1
          Points        [605, 170]
          Branch {
            Points        [480, 170]
            Branch {
              Points        [440, 170]
              DstComponent  "Im"
              DstTerminal   1
            }
            Branch {
              DstComponent  "Rp"
              DstTerminal   2
            }
          }
          Branch {
            DstComponent  "V1"
            DstTerminal   2
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "V1"
          SrcTerminal   1
          Points        [605, 90]
          Branch {
            DstComponent  "I_PV"
            DstTerminal   2
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "I_PV"
          SrcTerminal   1
          DstComponent  "Rs"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "CMux2"
          SrcTerminal   1
          DstComponent  "C-Script"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "T"
          SrcTerminal   1
          Points        [105, 215; 105, 140]
          DstComponent  "CMux2"
          DstTerminal   5
        }
        Connection {
          Type          Signal
          SrcComponent  "LPF"
          SrcTerminal   2
          DstComponent  "Im"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "G"
          SrcTerminal   1
          DstComponent  "Nominal irradiance"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Nominal irradiance"
          SrcTerminal   2
          DstComponent  "CMux2"
          DstTerminal   4
        }
        Connection {
          Type          Signal
          SrcComponent  "V1"
          SrcTerminal   3
          Points        [585, 130; 585, 25]
          Branch {
            Points        [105, 25; 105, 120]
            DstComponent  "CMux2"
            DstTerminal   3
          }
          Branch {
            DstComponent  "CMux"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "I_PV"
          SrcTerminal   3
          Points        [560, 35]
          Branch {
            DstComponent  "CMux"
            DstTerminal   3
          }
          Branch {
            Points        [115, 35]
            DstComponent  "CMux2"
            DstTerminal   2
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "Rs"
          SrcTerminal   2
          Points        [480, 90]
          Branch {
            Points        [440, 90]
            DstComponent  "Im"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Rp"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Saturation"
          SrcTerminal   2
          Points        [325, 130]
          DstComponent  "LPF"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "C-Script"
          SrcTerminal   2
          DstComponent  "Demux"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   2
          DstComponent  "Saturation"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   3
          Points        [265, 130; 265, 185]
          DstComponent  "Tm"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "CMux"
          SrcTerminal   1
          Points        [640, 30]
        }
      }
      MaskProbe {
        Name          "Voltage (V)"
        Probe {
          Component     "V1"
          Path          ""
          Signals       {"Measured voltage"}
        }
      }
      MaskProbe {
        Name          "Current (A)"
        Probe {
          Component     "I_PV"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Power (W)"
      }
    }
    Component {
      Type          Capacitor
      Name          "C2"
      Show          off
      Position      [185, 335]
      Direction     down
      Flipped       on
      LabelPosition west
      Parameter {
        Variable      "C"
        Value         "SP.C_in"
        Show          off
      }
      Parameter {
        Variable      "v_init"
        Value         "SP.V_OC_n * SP.Nser"
        Show          off
      }
    }
    Component {
      Type          Inductor
      Name          "L3"
      Show          off
      Position      [290, 275]
      Direction     left
      Flipped       off
      LabelPosition north
      Parameter {
        Variable      "L"
        Value         "DCDC.L"
        Show          off
      }
      Parameter {
        Variable      "i_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Diode
      Name          "D5"
      Show          off
      Position      [355, 240]
      Direction     down
      Flipped       off
      LabelPosition east
      Parameter {
        Variable      "Vf"
        Value         "0.85"
        Show          off
      }
      Parameter {
        Variable      "Ron"
        Value         "0.0425"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Igbt
      Name          "IGBT2"
      Show          off
      Position      [355, 325]
      Direction     up
      Flipped       off
      LabelPosition east
      Parameter {
        Variable      "Vf"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "Ron"
        Value         "DCDC.T.Ron"
        Show          off
      }
      Parameter {
        Variable      "s_init"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Ammeter
      Name          "Am1"
      Show          off
      Position      [250, 275]
      Direction     left
      Flipped       off
      LabelPosition south
    }
    Component {
      Type          Goto
      Name          "Goto12"
      Show          off
      Position      [250, 235]
      Direction     up
      Flipped       off
      LabelPosition east
      Parameter {
        Variable      "Tag"
        Value         "i_L2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Resistor
      Name          "R3"
      Show          off
      Position      [330, 275]
      Direction     right
      Flipped       on
      LabelPosition south
      Parameter {
        Variable      "R"
        Value         "DCDC.R"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From5"
      Show          off
      Position      [315, 325]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "pwm2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Diode
      Name          "D3"
      Show          off
      Position      [155, 335]
      Direction     down
      Flipped       off
      LabelPosition east
      Parameter {
        Variable      "Vf"
        Value         "0.85"
        Show          off
      }
      Parameter {
        Variable      "Ron"
        Value         "0.0425"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Diode
      Name          "D6"
      Show          off
      Position      [415, 455]
      Direction     down
      Flipped       off
      LabelPosition east
      Parameter {
        Variable      "Vf"
        Value         "0.85"
        Show          off
      }
      Parameter {
        Variable      "Ron"
        Value         "0.0425"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From28"
      Show          off
      Position      [75, 330]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "G"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From29"
      Show          off
      Position      [75, 340]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "T"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto13"
      Show          off
      Position      [75, 355]
      Direction     right
      Flipped       on
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "Tm2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "PV_Villalva3"
      Show          off
      Position      [125, 335]
      Direction     up
      Flipped       off
      LabelPosition northwest
      Frame         [-15, -25; 15, 25]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "PV String"
      MaskDescription "Single-diode model of Photovoltaic String as proposed i"
"n \"Comprephensive Approach to Modeling and Simulation of Photovoltaic Arrays"
"\""
      MaskDisplay   "line([-15 0 15], [-25 -7 -25])"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "k = 1.3806503e-23; % [J/K] - Boltzmann constant\n"
"q = 1.60217646e-19; % [C] - electron charge"
      Parameter {
        Variable      "Ns"
        Prompt        "Number of PV cells in string"
        Type          FreeText
        Value         "SP.Ns"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Nser"
        Prompt        "Number of series connected modules"
        Type          FreeText
        Value         "SP.Nser"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Np"
        Prompt        "Number of strings in parallel"
        Type          FreeText
        Value         "SP.Np"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "NOCT"
        Prompt        "NOCT"
        Type          FreeText
        Value         "SP.NOCT"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "V_OCn"
        Prompt        "Nominal Open-Circuit Cell Voltage"
        Type          FreeText
        Value         "SP.V_OC_n"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "I_SCn"
        Prompt        "Nominal Short-Circuit Cell Current"
        Type          FreeText
        Value         "SP.I_SC_n"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rs"
        Prompt        "Equivalent Panel Series Resistance"
        Type          FreeText
        Value         "SP.Rs"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Rp"
        Prompt        "Equivalent Panel Shunt Resistance"
        Type          FreeText
        Value         "SP.Rp"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "a"
        Prompt        "Diode Ideality Constant"
        Type          FreeText
        Value         "SP.a"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "KV"
        Prompt        "Voltage-Temperature Coefficient"
        Type          FreeText
        Value         "SP.K_V"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "KI"
        Prompt        "Current-Temperature Coefficient"
        Type          FreeText
        Value         "SP.K_I"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "t_delay"
        Prompt        "Low Pass Filter Time Constant"
        Type          FreeText
        Value         "1e-5"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Port
        Position      [0, -30]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 30]
        Direction     down
      }
      Terminal {
        Type          Input
        Position      [-15, 5]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-15, -5]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [-19, 20]
        Direction     left
      }
      Schematic {
        Location      [0, 27; 1175, 777]
        ZoomFactor    1.71498
        SliderPosition [-1, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Ammeter
          Name          "I_PV"
          Show          off
          Position      [560, 90]
          Direction     left
          Flipped       off
          LabelPosition south
        }
        Component {
          Type          SignalMux
          Name          "CMux"
          Show          off
          Position      [610, 30]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          CurrentSource
          Name          "Im"
          Show          on
          Position      [440, 130]
          Direction     down
          Flipped       on
          LabelPosition east
          Parameter {
            Variable      "DiscretizationBehavior"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "StateSpaceInlining"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Voltmeter
          Name          "V1"
          Show          off
          Position      [605, 130]
          Direction     down
          Flipped       on
          LabelPosition east
        }
        Component {
          Type          Port
          Name          "+"
          Show          off
          Position      [667, 90]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          off
          Position      [667, 170]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "T"
          Show          on
          Position      [70, 215]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "Rp"
          Show          on
          Position      [480, 130]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "R"
            Value         "(Nser/Np)*Rp"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "Rs"
          Show          on
          Position      [515, 90]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "R"
            Value         "(Nser/Np)*Rs"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "G"
          Show          on
          Position      [30, 130]
          Direction     left
          Flipped       on
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          SignalMux
          Name          "CMux2"
          Show          off
          Position      [130, 125]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "4"
            Show          off
          }
        }
        Component {
          Type          TransferFunction
          Name          "LPF"
          Show          on
          Position      [375, 130]
          Direction     left
          Flipped       on
          LabelPosition north
          Frame         [-30, -15; 30, 15]
          Parameter {
            Variable      "Numerator"
            Value         "[1]"
            Show          off
          }
          Parameter {
            Variable      "Denominator"
            Value         "[t_delay 1]"
            Show          off
          }
          Parameter {
            Variable      "X0"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "Nominal irradiance"
          Show          on
          Position      [80, 130]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "1000"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          CScript
          Name          "C-Script"
          Show          on
          Position      [185, 125]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "DialogGeometry"
            Value         "[376 264 831 695]"
            Show          off
          }
          Parameter {
            Variable      "NumInputs"
            Value         "4"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         "Ns,Np,V_OCn,I_SCn,Rs,Rp,a,KV,KI,k,q,Nser,NOCT"
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "GnuExtensions"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         "#include <math.h>\n"
"\n"
"static double Ns;\n"
"static double Np;\n"
"static double Nser;\n"
"\n"
"const static double Tn =25.0 + 273.15;\n"
"const static double Gn= 1000.0;\n"
"static double V_OC_n;\n"
"static double I_SC_n;\n"
"\n"
"static double Rs;\n"
"static double Rp;\n"
"\n"
"static double a;\n"
"\n"
"static double KV;\n"
"static double KI;\n"
"\n"
"static double k;\n"
"static double q;\n"
"\n"
"static double I_PV_n;\n"
"static double NOCT;\n"
"\n"
"#define I InputSignal(0,0)\n"
"#define V InputSignal(0,1)\n"
"#define G InputSignal(0,2)\n"
"#define T InputSignal(0,3)"
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         "Ns = ParamRealData(0,0);\n"
"Np = ParamRealData(1,0);\n"
"\n"
"//Tn = ParamRealData(2,0) + 273.15;\n"
"//Gn = ParamRealData(3,0);\n"
"V_OC_n = ParamRealData(2,0);\n"
"I_SC_n = ParamRealData(3,0);\n"
"\n"
"Rs = ParamRealData(4,0);\n"
"Rp = ParamRealData(5,0);\n"
"\n"
"a = ParamRealData(6,0);\n"
"\n"
"KV = ParamRealData(7,0);\n"
"KI = ParamRealData(8,0);\n"
"\n"
"k = ParamRealData(9,0);\n"
"\n"
"q = ParamRealData(10,0);\n"
"\n"
"Nser = ParamRealData(11,0);\n"
"\n"
"I_PV_n = I_SC_n;\n"
"\n"
"NOCT = ParamRealData(12,0);"
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         "double I_pv_cell, I_pv_array, I_0_cell, I_0_array, "
"I_m;\n"
"double T_module = G*(NOCT-20.0)/800.0 + T;\n"
"double T_Kelvin =  T_module + 273.15;\n"
"\n"
"double delta_T = T_Kelvin - Tn;\n"
"\n"
"double V_t = Ns*k*T_Kelvin/q;\n"
"\n"
"I_pv_cell = (I_PV_n + KI * delta_T) * (G/Gn);\n"
"I_pv_array = I_pv_cell * Np;\n"
"\n"
"I_0_cell = (I_SC_n + KI * delta_T) / ( exp( (V_OC_n + KV * delta_T) / (a*V_t)"
" ) - 1);\n"
"I_0_array = I_0_cell * Np;\n"
"\n"
"I_m = I_pv_array - I_0_array * ( exp( (V + Rs * (Nser/Np) * I) / (a*V_t*Nser)"
" ) - 1) ;\n"
"\n"
"if (I_m < -1e9)\n"
"{\n"
"  I_m = -1e9;   // helps solver avoid setting I_m to -inf during minor step\n"
"}\n"
"\n"
"OutputSignal(0,0) = I_m;\n"
"OutputSignal(0,1) = T_module;"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "StoreCustomStateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "RestoreCustomStateFcn"
            Value         ""
            Show          off
          }
        }
        Component {
          Type          Saturation
          Name          "Saturation"
          Show          off
          Position      [305, 120]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "UpperLimit"
            Value         "inf"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          SignalDemux
          Name          "Demux"
          Show          off
          Position      [245, 125]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "Tm"
          Show          on
          Position      [310, 185]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "5"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "-"
          SrcTerminal   1
          Points        [605, 170]
          Branch {
            Points        [480, 170]
            Branch {
              Points        [440, 170]
              DstComponent  "Im"
              DstTerminal   1
            }
            Branch {
              DstComponent  "Rp"
              DstTerminal   2
            }
          }
          Branch {
            DstComponent  "V1"
            DstTerminal   2
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "V1"
          SrcTerminal   1
          Points        [605, 90]
          Branch {
            DstComponent  "I_PV"
            DstTerminal   2
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "I_PV"
          SrcTerminal   1
          DstComponent  "Rs"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "CMux2"
          SrcTerminal   1
          DstComponent  "C-Script"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "T"
          SrcTerminal   1
          Points        [105, 215; 105, 140]
          DstComponent  "CMux2"
          DstTerminal   5
        }
        Connection {
          Type          Signal
          SrcComponent  "LPF"
          SrcTerminal   2
          DstComponent  "Im"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "G"
          SrcTerminal   1
          DstComponent  "Nominal irradiance"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Nominal irradiance"
          SrcTerminal   2
          DstComponent  "CMux2"
          DstTerminal   4
        }
        Connection {
          Type          Signal
          SrcComponent  "V1"
          SrcTerminal   3
          Points        [585, 130; 585, 25]
          Branch {
            Points        [105, 25; 105, 120]
            DstComponent  "CMux2"
            DstTerminal   3
          }
          Branch {
            DstComponent  "CMux"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "I_PV"
          SrcTerminal   3
          Points        [560, 35]
          Branch {
            DstComponent  "CMux"
            DstTerminal   3
          }
          Branch {
            Points        [115, 35]
            DstComponent  "CMux2"
            DstTerminal   2
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "Rs"
          SrcTerminal   2
          Points        [480, 90]
          Branch {
            Points        [440, 90]
            DstComponent  "Im"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Rp"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Saturation"
          SrcTerminal   2
          Points        [325, 130]
          DstComponent  "LPF"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "C-Script"
          SrcTerminal   2
          DstComponent  "Demux"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   2
          DstComponent  "Saturation"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux"
          SrcTerminal   3
          Points        [265, 130; 265, 185]
          DstComponent  "Tm"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "CMux"
          SrcTerminal   1
          Points        [640, 30]
        }
      }
      MaskProbe {
        Name          "Voltage (V)"
        Probe {
          Component     "V1"
          Path          ""
          Signals       {"Measured voltage"}
        }
      }
      MaskProbe {
        Name          "Current (A)"
        Probe {
          Component     "I_PV"
          Path          ""
          Signals       {"Measured current"}
        }
      }
      MaskProbe {
        Name          "Power (W)"
      }
    }
    Component {
      Type          SignalMux
      Name          "Mux5"
      Show          off
      Position      [80, 900]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Width"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From9"
      Show          off
      Position      [465, 950]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "i_L2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From10"
      Show          off
      Position      [275, 950]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "V_pv2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto14"
      Show          off
      Position      [805, 895]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "pwm2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "PWM1"
      Show          on
      Position      [730, 885]
      Direction     up
      Flipped       off
      LabelPosition none
      Frame         [-45, -25; 45, 25]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [49, 10]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-45, -5]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [49, -15]
        Direction     right
      }
      Schematic {
        Location      [0, 77; 1536, 841]
        ZoomFactor    1.30957
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Reference
          SrcComponent  "Components/Control/Modulators/Symmetrical PWM"
          Name          "Symmetrical \nPWM"
          Show          on
          Position      [435, 135]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-20, -20; 20, 20]
          Parameter {
            Variable      "sampling"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "fc"
            Value         "DCDC.fsw"
            Show          off
          }
          Parameter {
            Variable      "carrier_phaseshift"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "carrier_limits"
            Value         "[0.0 1.0]"
            Show          off
          }
          Parameter {
            Variable      "output_values"
            Value         "[0 1]"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [24, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 0]
            Direction     left
          }
        }
        Component {
          Type          Gain
          Name          "V_set -> m"
          Show          off
          Position      [290, 135]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "1/(SP.Nser*SP.V_OC_n)"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "time"
          Show          on
          Position      [545, 135]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "ref"
          Show          on
          Position      [230, 135]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "duty_scope"
          Show          on
          Position      [550, 90]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Saturation
          Name          "Saturation"
          Show          on
          Position      [350, 135]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "UpperLimit"
            Value         "1.0"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "0.0"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "ref"
          SrcTerminal   1
          DstComponent  "V_set -> m"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "V_set -> m"
          SrcTerminal   2
          DstComponent  "Saturation"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Saturation"
          SrcTerminal   2
          Points        [390, 135]
          Branch {
            DstComponent  "Symmetrical \nPWM"
            DstTerminal   2
          }
          Branch {
            Points        [390, 90]
            DstComponent  "duty_scope"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Symmetrical \nPWM"
          SrcTerminal   1
          DstComponent  "time"
          DstTerminal   1
        }
      }
    }
    Component {
      Type          From
      Name          "From13"
      Show          off
      Position      [55, 895]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "V_pv2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From15"
      Show          off
      Position      [55, 905]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "i_L2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From16"
      Show          off
      Position      [565, 870]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "PIon"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From30"
      Show          off
      Position      [405, 870]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "PIon"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "MPP Controller1"
      Show          on
      Position      [155, 900]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Parameter {
        Variable      "stepSize"
        Prompt        "Step size, in Volts"
        Type          FreeText
        Value         "5"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "Tf"
        Prompt        "Filter time constant"
        Type          FreeText
        Value         "4e-3"
        Show          off
        Tunable       off
        TabName       ""
      }
      Parameter {
        Variable      "ts"
        Prompt        "Sample time"
        Type          FreeText
        Value         "Ts_mppt"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Output
        Position      [24, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Schematic {
        Location      [81, 124; 623, 478]
        ZoomFactor    1.62892
        SliderPosition [108, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          CScript
          Name          "Vref"
          Show          off
          Position      [280, 65]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "DialogGeometry"
            Value         "[-212 280 1920 996]"
            Show          off
          }
          Parameter {
            Variable      "NumInputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "ts"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         "stepSize"
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "GnuExtensions"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         "#include<stdint.h>\n"
"#include<stdbool.h>\n"
"\n"
"#define V Input(0)\n"
"#define I Input(1)\n"
"#define P_old DiscState(0)\n"
"#define V_old DiscState(1)\n"
"#define DPDV_MAX 10\n"
"#define DPDV_MIN -10\n"
"\n"
"#define REF_MAX 1000.0f\n"
"#define REF_MIN 0.0f\n"
"\n"
"#define K ParamRealData(0,0)\n"
"\n"
"#define Saturation(in, lim_L, lim_H)\\\n   if(in < lim_L) in = lim_L;      \\"
"\n   if(in > lim_H) in = lim_H;    \n"
"   \n"
"typedef float float32_t;\n"
" \n"
"static double P;\n"
"\n"
"\n"
"static inline float32_t Saturation_out(float32_t in, float32_t lim_L, float32"
"_t lim_H)\n"
"{\n"
"\tif (in > lim_H) in =  lim_H;\n"
"\tif (in < lim_L) in =  lim_L;\n"
"\treturn in;\n"
"}"
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         "P_old = P;\n"
"V_old = V;\n"
"Output(0) = V;\n"
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         "double dP, dV, dPdV;\n"
"\n"
"P = V*I;\n"
"dP = P - P_old;\n"
"dV = V - V_old;\n"
"\n"
"uint16_t init = 1U;\n"
"float tmpOut;\n"
"\n"
"if (init && P < 100.0)\n"
"{\n"
"\ttmpOut = V;\n"
"\ttmpOut -=5.0;\n"
"}\n"
"else\n"
"{\n"
"init = 0U;\n"
"\n"
"dPdV = dP/dV;\n"
"\n"
"if (dPdV > DPDV_MAX)\n"
"\tdPdV = DPDV_MAX;\n"
"if (dPdV < DPDV_MIN)\n"
"\tdPdV = DPDV_MIN;\n"
"\t\n"
"float signOfDeltaVoltage = (V - V_old > 0.0f) ? 1.0f : -1.0f;\n"
"float signOfDeltaPower   = (P - P_old > 0.0f) ? 1.0f : -1.0f;\n"
"\n"
"tmpOut = V + K * signOfDeltaVoltage * signOfDeltaPower;\n"
"}\n"
"Saturation(tmpOut,REF_MIN,REF_MAX);\n"
"  \n"
"Output(0) = tmpOut;\n"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         "P_old = P;\n"
"V_old = V;\n"
"\n"
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "StoreCustomStateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "RestoreCustomStateFcn"
            Value         ""
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "vref"
          Show          on
          Position      [380, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "v,i"
          Show          on
          Position      [95, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          TransferFunction
          Name          "Transfer Fcn"
          Show          on
          Position      [175, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-30, -15; 30, 15]
          Parameter {
            Variable      "Numerator"
            Value         "[1]"
            Show          off
          }
          Parameter {
            Variable      "Denominator"
            Value         "[Tf 1]"
            Show          off
          }
          Parameter {
            Variable      "X0"
            Value         "1.9"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Vref"
          SrcTerminal   2
          DstComponent  "vref"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "v,i"
          SrcTerminal   1
          DstComponent  "Transfer Fcn"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Transfer Fcn"
          SrcTerminal   2
          DstComponent  "Vref"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "filtered"
      }
    }
    Component {
      Type          Sum
      Name          "Sum2"
      Show          off
      Position      [505, 880]
      Direction     up
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "IconShape"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "Inputs"
        Value         "|+-"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "11"
        Show          off
      }
    }
    Component {
      Type          Sum
      Name          "Sum3"
      Show          off
      Position      [310, 880]
      Direction     up
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "IconShape"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "Inputs"
        Value         "|+-"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "11"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "Current Controller1"
      Show          on
      Position      [605, 880]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Parameter {
        Variable      "Kp"
        Prompt        "Proportional Gain"
        Type          FreeText
        Value         "10"
        Show          off
        Tunable       on
        TabName       ""
      }
      Parameter {
        Variable      "Ki"
        Prompt        "Integral Gain"
        Type          FreeText
        Value         "60"
        Show          off
        Tunable       on
        TabName       ""
      }
      Parameter {
        Variable      "Limit"
        Prompt        "Limit"
        Type          FreeText
        Value         "1000"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Output
        Position      [24, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-20, -10]
        Direction     left
      }
      Schematic {
        Location      [551, 382; 1536, 734]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Gain
          Name          "P"
          Show          on
          Position      [115, 55]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "Kp"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "K"
          Show          on
          Position      [115, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "Ki"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Saturation
          Name          "Saturation"
          Show          on
          Position      [360, 55]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "UpperLimit"
            Value         "Limit"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "-Limit"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "Out"
          Show          on
          Position      [430, 55]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "In"
          Show          on
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Product
          Name          "Product"
          Show          on
          Position      [195, 110]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Integrator
          Name          "Integrator"
          Show          on
          Position      [270, 115]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "ExternalReset"
            Value         "5"
            Show          off
          }
          Parameter {
            Variable      "InitialConditionSource"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "x0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "ShowStatePort"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "EnableWrapping"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "UpperLimit"
            Value         "inf"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "-inf"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum1"
          Show          off
          Position      [300, 55]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|++"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          LogicalOperator
          Name          "Anti reset-windup"
          Show          on
          Position      [190, 210]
          Direction     down
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum2"
          Show          off
          Position      [270, 210]
          Direction     down
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "-+"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          LogicalOperator
          Name          "Logical\nOperator"
          Show          on
          Position      [95, 150]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "On"
          Show          on
          Position      [35, 150]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Product"
          SrcTerminal   1
          DstComponent  "Integrator"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum2"
          SrcTerminal   1
          DstComponent  "Anti reset-windup"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Anti reset-windup"
          SrcTerminal   1
          Points        [165, 210]
          DstComponent  "Product"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "K"
          SrcTerminal   2
          DstComponent  "Product"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Integrator"
          SrcTerminal   2
          Points        [300, 115]
          DstComponent  "Sum1"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum1"
          SrcTerminal   1
          Points        [325, 55]
          Branch {
            DstComponent  "Saturation"
            DstTerminal   1
          }
          Branch {
            Points        [325, 205]
            DstComponent  "Sum2"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "P"
          SrcTerminal   2
          DstComponent  "Sum1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "In"
          SrcTerminal   1
          Points        [80, 80]
          Branch {
            Points        [80, 55]
            DstComponent  "P"
            DstTerminal   1
          }
          Branch {
            Points        [80, 105]
            DstComponent  "K"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Saturation"
          SrcTerminal   2
          Points        [390, 55]
          Branch {
            DstComponent  "Out"
            DstTerminal   1
          }
          Branch {
            Points        [390, 215]
            DstComponent  "Sum2"
            DstTerminal   3
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Logical\nOperator"
          SrcTerminal   1
          Points        [235, 150; 235, 120]
          DstComponent  "Integrator"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "On"
          SrcTerminal   1
          DstComponent  "Logical\nOperator"
          DstTerminal   2
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "Voltage Controller1"
      Show          on
      Position      [445, 880]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Parameter {
        Variable      "Kp"
        Prompt        "Proportional Gain"
        Type          FreeText
        Value         "-0.02"
        Show          off
        Tunable       on
        TabName       ""
      }
      Parameter {
        Variable      "Ki"
        Prompt        "Integral Gain"
        Type          FreeText
        Value         "-20"
        Show          off
        Tunable       on
        TabName       ""
      }
      Parameter {
        Variable      "Limit"
        Prompt        "Limit"
        Type          FreeText
        Value         "10000"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Output
        Position      [24, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-20, -10]
        Direction     left
      }
      Schematic {
        Location      [656, 382; 1641, 734]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Gain
          Name          "P"
          Show          on
          Position      [115, 55]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "Kp"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "K"
          Show          on
          Position      [115, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "Ki"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Saturation
          Name          "Saturation"
          Show          on
          Position      [360, 55]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "UpperLimit"
            Value         "Limit"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "-Limit"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "Out"
          Show          on
          Position      [430, 55]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "In"
          Show          on
          Position      [35, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Product
          Name          "Product"
          Show          on
          Position      [195, 110]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Integrator
          Name          "Integrator"
          Show          on
          Position      [270, 115]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "ExternalReset"
            Value         "5"
            Show          off
          }
          Parameter {
            Variable      "InitialConditionSource"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "x0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "ShowStatePort"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "EnableWrapping"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "UpperLimit"
            Value         "inf"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "-inf"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum1"
          Show          off
          Position      [300, 55]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|++"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          LogicalOperator
          Name          "Anti reset-windup"
          Show          on
          Position      [190, 210]
          Direction     down
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum2"
          Show          off
          Position      [270, 210]
          Direction     down
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "-+"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          LogicalOperator
          Name          "Logical\nOperator"
          Show          on
          Position      [95, 150]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Operator"
            Value         "6"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "On"
          Show          on
          Position      [35, 150]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Product"
          SrcTerminal   1
          DstComponent  "Integrator"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum2"
          SrcTerminal   1
          DstComponent  "Anti reset-windup"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Anti reset-windup"
          SrcTerminal   1
          Points        [165, 210]
          DstComponent  "Product"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "K"
          SrcTerminal   2
          DstComponent  "Product"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Integrator"
          SrcTerminal   2
          Points        [300, 115]
          DstComponent  "Sum1"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum1"
          SrcTerminal   1
          Points        [325, 55]
          Branch {
            DstComponent  "Saturation"
            DstTerminal   1
          }
          Branch {
            Points        [325, 205]
            DstComponent  "Sum2"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "P"
          SrcTerminal   2
          DstComponent  "Sum1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "In"
          SrcTerminal   1
          Points        [80, 80]
          Branch {
            Points        [80, 55]
            DstComponent  "P"
            DstTerminal   1
          }
          Branch {
            Points        [80, 105]
            DstComponent  "K"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Saturation"
          SrcTerminal   2
          Points        [390, 55]
          Branch {
            DstComponent  "Out"
            DstTerminal   1
          }
          Branch {
            Points        [390, 215]
            DstComponent  "Sum2"
            DstTerminal   3
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Logical\nOperator"
          SrcTerminal   1
          Points        [235, 150; 235, 120]
          DstComponent  "Integrator"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "On"
          SrcTerminal   1
          DstComponent  "Logical\nOperator"
          DstTerminal   2
        }
      }
    }
    Component {
      Type          ManualSignalSwitch
      Name          "Manual Switch1"
      Show          on
      Position      [230, 880]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "SwitchState"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          PulseGenerator
      Name          "Manual_reference1"
      Show          on
      Position      [155, 855]
      Direction     left
      Flipped       on
      LabelPosition north
      Parameter {
        Variable      "Hi"
        Value         "250"
        Show          off
      }
      Parameter {
        Variable      "Lo"
        Value         "200"
        Show          off
      }
      Parameter {
        Variable      "f"
        Value         "5"
        Show          off
      }
      Parameter {
        Variable      "DutyCycle"
        Value         "0.5"
        Show          off
      }
      Parameter {
        Variable      "Delay"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          PlecsProbe
      Name          "PV V, I1"
      Show          on
      Position      [575, 355]
      Direction     right
      Flipped       off
      LabelPosition south
      Probe {
        Component     "C2"
        Path          ""
        Signals       {"Capacitor voltage"}
      }
      Probe {
        Component     "Am1"
        Path          ""
        Signals       {"Measured current"}
      }
    }
    Component {
      Type          Goto
      Name          "Goto17"
      Show          off
      Position      [700, 355]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "P_pv2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Vpv1"
      Show          on
      Position      [645, 395]
      Direction     right
      Flipped       off
      LabelPosition south
      Probe {
        Component     "C2"
        Path          ""
        Signals       {"Capacitor voltage"}
      }
    }
    Component {
      Type          Goto
      Name          "Goto18"
      Show          off
      Position      [690, 395]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "V_pv2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "Sub2"
      Show          off
      Position      [640, 355]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-25, -20; 25, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [29, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-25, 0]
        Direction     left
      }
      Schematic {
        Location      [0, 27; 1920, 1005]
        ZoomFactor    4.40773
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          SignalDemux
          Name          "Demux3"
          Show          off
          Position      [155, 65]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Product
          Name          "Product"
          Show          off
          Position      [225, 65]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "P_pv"
          Show          on
          Position      [285, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "V,I"
          Show          on
          Position      [30, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Control/Filters/Moving Average"
          Name          "Moving Average"
          Show          on
          Position      [85, 65]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-15, -15; 15, 15]
          Parameter {
            Variable      "x0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_period"
            Value         "CC_DCDC.T_sw"
            Show          off
          }
          Parameter {
            Variable      "buffer_size"
            Value         "1024"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [19, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-15, 0]
            Direction     left
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Product"
          SrcTerminal   1
          DstComponent  "P_pv"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux3"
          SrcTerminal   2
          DstComponent  "Product"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux3"
          SrcTerminal   3
          DstComponent  "Product"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "V,I"
          SrcTerminal   1
          DstComponent  "Moving Average"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Moving Average"
          SrcTerminal   1
          DstComponent  "Demux3"
          DstTerminal   1
        }
      }
    }
    Component {
      Type          XYPlot
      Name          "P vs V2"
      Show          on
      Position      [1660, 435]
      Direction     up
      Flipped       off
      LabelPosition south
      Location      [0, 26; 1283, 706]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAAvsAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAAEwA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAJcA////AAAAAwAAAAAAAAAA/AEAAAAB+wAAABIAVABpAG0AZQBSAGEAbgBnAGUAAAAAAP/"
"///8AAAC0AP///wAAB4QAAAPZAAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBv"
"AGwAQgBhAHIBAAAAAP////8AAAAAAAAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   ""
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      TimeRange     "0.0"
      ShownPeriods  "1"
      Open          "0"
      Ts            "1e-3"
      SampleLimit   "0"
      XAxisLabel    "Panel Voltage (V)"
      AspectRatioX  "-1"
      AspectRatioY  "-1"
      PlotStyle     "1"
      ShowLegend    "1"
      Axis {
        Name          "P-V curve"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        AxisLabel     "Panel Power (W)"
      }
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
      }
    }
    Component {
      Type          From
      Name          "From1"
      Show          off
      Position      [1610, 445]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "P_pv2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From31"
      Show          off
      Position      [1610, 425]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "V_pv2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          XYPlot
      Name          "P vs V3"
      Show          on
      Position      [1660, 385]
      Direction     up
      Flipped       off
      LabelPosition south
      Location      [322, 27; 1280, 717]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAAvsAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAADQA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGYA////AAAAAwAAAAAAAAAA/AEAAAAB+wAAABIAVABpAG0AZQBSAGEAbgBnAGUAAAAAAP/"
"///8AAAB4AP///wAAA74AAAKXAAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBv"
"AGwAQgBhAHIBAAAAAP////8AAAAAAAAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   ""
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      TimeRange     "0.0"
      ShownPeriods  "1"
      Open          "0"
      Ts            "1e-3"
      SampleLimit   "0"
      XAxisLabel    "Panel Voltage (V)"
      AspectRatioX  "-1"
      AspectRatioY  "-1"
      PlotStyle     "1"
      ShowLegend    "1"
      Axis {
        Name          "I-V curve"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        AxisLabel     "Panel Current (A)"
      }
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
      }
    }
    Component {
      Type          From
      Name          "From32"
      Show          off
      Position      [1610, 395]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "i_L2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From33"
      Show          off
      Position      [1610, 375]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "V_pv2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Inductor
      Name          "L1"
      Show          off
      Position      [780, 250]
      Direction     left
      Flipped       on
      LabelPosition north
      Parameter {
        Variable      "L"
        Value         "0.01"
        Show          off
      }
      Parameter {
        Variable      "i_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Inductor
      Name          "L4"
      Show          off
      Position      [780, 260]
      Direction     left
      Flipped       on
      LabelPosition north
      Parameter {
        Variable      "L"
        Value         "0.01"
        Show          off
      }
      Parameter {
        Variable      "i_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Inductor
      Name          "L5"
      Show          off
      Position      [780, 270]
      Direction     left
      Flipped       on
      LabelPosition north
      Parameter {
        Variable      "L"
        Value         "0.01"
        Show          off
      }
      Parameter {
        Variable      "i_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Voltmeter
      Name          "Vdc1"
      Show          off
      Position      [520, 265]
      Direction     down
      Flipped       on
      LabelPosition east
    }
    Component {
      Type          Capacitor
      Name          "C3"
      Show          on
      Position      [550, 265]
      Direction     up
      Flipped       off
      LabelPosition southwest
      Parameter {
        Variable      "C"
        Value         "1e-3"
        Show          off
      }
      Parameter {
        Variable      "v_init"
        Value         "700"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "2-Level\nIGBT\nConv."
      Show          on
      Position      [650, 260]
      Direction     down
      Flipped       on
      LabelPosition west
      Frame         [-25, -25; 25, 25]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "IGBT Converter (3ph)"
      MaskDescription "This block implements a three phase, two level IGBT con"
"verter. The gate input is a vector of three signals - one per leg. The upper "
"IGBT is turned on with a positive, the lower one with a negative gate signal."
      MaskHelp      "igbtconverter2level.html"
      MaskDisplay   "line([0, 0, -10], [-20, -10, -4])\n"
"line([-10, 0, 0], [4, 10, 20])\n"
"line([-10, -10], [8, -8])\n"
"line([-14, -14], [8, -8])\n"
"line([-14, -20], [0, 0])\n"
"line([0, 10, 10], [-14, -14, -6])\n"
"line([10, 10, 0], [6, 14, 14])\n"
"line([3, 17], [-6, -6])\n"
"line([10, 17, 3, 10], [-6, 6, 6, -6])\n"
"line([-5.65, -1.667, -3.864], [8.634, 9, 5.658])\n"
"circle(-27.5, -13.5, .5)"
      MaskIconFrame on
      MaskIconOpaque on
      MaskIconRotates on
      Parameter {
        Variable      "therm", "Von", "Eon", "Eoff"
        Prompt        "Thermal description", "Device on-state voltage drop (th"
"erm.)", "Device turn-on loss (therm.)", "Device turn-off loss (therm.)"
        Type          Thermal
        Class         "IGBT with Diode"
        Value         "", "[]", "[]", "[]"
        Show          off
        TabName       ""
      }
      Parameter {
        Variable      "T_init"
        Prompt        "Initial temperature"
        Type          FreeText
        Value         "0"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Port
        Position      [-30, -10]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [-30, 0]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [-30, 10]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [0, -30]
        Direction     up
      }
      Terminal {
        Type          Port
        Position      [0, 30]
        Direction     down
      }
      Terminal {
        Type          Input
        Position      [-15, -25]
        Direction     up
      }
      Schematic {
        Location      [383, 136; 1021, 518]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Port
          Name          "a"
          Show          on
          Position      [65, 165]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "b"
          Show          on
          Position      [65, 205]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "c"
          Show          on
          Position      [65, 245]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "+"
          Show          on
          Position      [370, 65]
          Direction     up
          Flipped       on
          LabelPosition east
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "-"
          Show          on
          Position      [370, 345]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "Index"
            Value         "5"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          IgbtWithDiode
          Name          "IGBT1"
          Show          on
          Position      [200, 135]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "T_init"
            Show          off
          }
        }
        Component {
          Type          IgbtWithDiode
          Name          "IGBT2"
          Show          on
          Position      [200, 275]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "T_init"
            Show          off
          }
        }
        Component {
          Type          IgbtWithDiode
          Name          "IGBT3"
          Show          on
          Position      [375, 135]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "T_init"
            Show          off
          }
        }
        Component {
          Type          IgbtWithDiode
          Name          "IGBT4"
          Show          on
          Position      [370, 275]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "T_init"
            Show          off
          }
        }
        Component {
          Type          IgbtWithDiode
          Name          "IGBT5"
          Show          on
          Position      [540, 135]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "T_init"
            Show          off
          }
        }
        Component {
          Type          IgbtWithDiode
          Name          "IGBT6"
          Show          on
          Position      [540, 275]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "s_init"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "thermal"
            Value         "ref:therm"
            Show          off
          }
          Parameter {
            Variable      "Rth"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_init"
            Value         "T_init"
            Show          off
          }
        }
        Component {
          Type          Function
          Name          "CmpFcn"
          Show          off
          Position      [140, 135]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "u>0"
            Show          off
          }
        }
        Component {
          Type          Function
          Name          "CmpFcn3"
          Show          off
          Position      [140, 275]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "u<0"
            Show          off
          }
        }
        Component {
          Type          Function
          Name          "CmpFcn1"
          Show          off
          Position      [310, 135]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "u>0"
            Show          off
          }
        }
        Component {
          Type          Function
          Name          "CmpFcn4"
          Show          off
          Position      [310, 275]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "u<0"
            Show          off
          }
        }
        Component {
          Type          Function
          Name          "CmpFcn2"
          Show          off
          Position      [480, 135]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "u>0"
            Show          off
          }
        }
        Component {
          Type          Function
          Name          "CmpFcn5"
          Show          off
          Position      [480, 275]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "u<0"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "SW"
          Show          on
          Position      [35, 50]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "6"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          SignalDemux
          Name          "CDemux"
          Show          off
          Position      [85, 50]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "Width"
            Value         "3"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R1"
          Show          on
          Position      [200, 180]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "R"
            Value         "1/30"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R2"
          Show          on
          Position      [200, 230]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "R"
            Value         "1/30"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R3"
          Show          on
          Position      [375, 180]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "R"
            Value         "1/30"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R4"
          Show          on
          Position      [375, 230]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "R"
            Value         "1/30"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R5"
          Show          on
          Position      [540, 175]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "R"
            Value         "1/30"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R6"
          Show          on
          Position      [540, 230]
          Direction     up
          Flipped       off
          LabelPosition east
          Parameter {
            Variable      "R"
            Value         "1/30"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "CmpFcn3"
          SrcTerminal   2
          DstComponent  "IGBT2"
          DstTerminal   3
        }
        Connection {
          Type          Wire
          SrcComponent  "a"
          SrcTerminal   1
          Points        [180, 165; 180, 200; 200, 200]
          Branch {
            DstComponent  "R2"
            DstTerminal   1
          }
          Branch {
            DstComponent  "R1"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "CmpFcn"
          SrcTerminal   2
          DstComponent  "IGBT1"
          DstTerminal   3
        }
        Connection {
          Type          Wire
          SrcComponent  "b"
          SrcTerminal   1
          Points        [375, 205]
          Branch {
            DstComponent  "R4"
            DstTerminal   1
          }
          Branch {
            DstComponent  "R3"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "CmpFcn1"
          SrcTerminal   2
          DstComponent  "IGBT3"
          DstTerminal   3
        }
        Connection {
          Type          Wire
          SrcComponent  "IGBT1"
          SrcTerminal   1
          Points        [200, 105; 370, 105]
          Branch {
            Points        [375, 105]
            Branch {
              Points        [540, 105]
              DstComponent  "IGBT5"
              DstTerminal   1
            }
            Branch {
              DstComponent  "IGBT3"
              DstTerminal   1
            }
          }
          Branch {
            DstComponent  "+"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "IGBT2"
          SrcTerminal   2
          Points        [200, 305; 370, 305]
          Branch {
            DstComponent  "IGBT4"
            DstTerminal   2
          }
          Branch {
            DstComponent  "-"
            DstTerminal   1
          }
          Branch {
            Points        [540, 305]
            DstComponent  "IGBT6"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "CmpFcn4"
          SrcTerminal   2
          DstComponent  "IGBT4"
          DstTerminal   3
        }
        Connection {
          Type          Wire
          SrcComponent  "c"
          SrcTerminal   1
          Points        [515, 245; 515, 210; 540, 210]
          Branch {
            DstComponent  "R6"
            DstTerminal   1
          }
          Branch {
            DstComponent  "R5"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "CmpFcn2"
          SrcTerminal   2
          DstComponent  "IGBT5"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "CmpFcn5"
          SrcTerminal   2
          DstComponent  "IGBT6"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "SW"
          SrcTerminal   1
          DstComponent  "CDemux"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "CDemux"
          SrcTerminal   4
          Points        [435, 40; 435, 135]
          Branch {
            DstComponent  "CmpFcn2"
            DstTerminal   1
          }
          Branch {
            Points        [435, 275]
            DstComponent  "CmpFcn5"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "CDemux"
          SrcTerminal   3
          Points        [260, 50; 260, 135]
          Branch {
            DstComponent  "CmpFcn1"
            DstTerminal   1
          }
          Branch {
            Points        [260, 275]
            DstComponent  "CmpFcn4"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "CDemux"
          SrcTerminal   2
          Points        [105, 60; 105, 135]
          Branch {
            DstComponent  "CmpFcn"
            DstTerminal   1
          }
          Branch {
            DstComponent  "CmpFcn3"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "R1"
          SrcTerminal   1
          DstComponent  "IGBT1"
          DstTerminal   2
        }
        Connection {
          Type          Wire
          SrcComponent  "IGBT2"
          SrcTerminal   1
          DstComponent  "R2"
          DstTerminal   2
        }
        Connection {
          Type          Wire
          SrcComponent  "R3"
          SrcTerminal   1
          DstComponent  "IGBT3"
          DstTerminal   2
        }
        Connection {
          Type          Wire
          SrcComponent  "R4"
          SrcTerminal   2
          Points        [375, 255]
          DstComponent  "IGBT4"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "R5"
          SrcTerminal   1
          DstComponent  "IGBT5"
          DstTerminal   2
        }
        Connection {
          Type          Wire
          SrcComponent  "IGBT6"
          SrcTerminal   1
          DstComponent  "R6"
          DstTerminal   2
        }
      }
      MaskProbe {
        Name          "Device voltages"
        Probe {
          Component     "IGBT1"
          Path          ""
          Signals       {"Device voltage"}
        }
        Probe {
          Component     "IGBT2"
          Path          ""
          Signals       {"Device voltage"}
        }
        Probe {
          Component     "IGBT3"
          Path          ""
          Signals       {"Device voltage"}
        }
        Probe {
          Component     "IGBT4"
          Path          ""
          Signals       {"Device voltage"}
        }
        Probe {
          Component     "IGBT5"
          Path          ""
          Signals       {"Device voltage"}
        }
        Probe {
          Component     "IGBT6"
          Path          ""
          Signals       {"Device voltage"}
        }
      }
      MaskProbe {
        Name          "Device currents"
        Probe {
          Component     "IGBT1"
          Path          ""
          Signals       {"Device current"}
        }
        Probe {
          Component     "IGBT2"
          Path          ""
          Signals       {"Device current"}
        }
        Probe {
          Component     "IGBT3"
          Path          ""
          Signals       {"Device current"}
        }
        Probe {
          Component     "IGBT4"
          Path          ""
          Signals       {"Device current"}
        }
        Probe {
          Component     "IGBT5"
          Path          ""
          Signals       {"Device current"}
        }
        Probe {
          Component     "IGBT6"
          Path          ""
          Signals       {"Device current"}
        }
      }
      MaskProbe {
        Name          "Device conduct."
        Probe {
          Component     "IGBT1"
          Path          ""
          Signals       {"Device conductivity"}
        }
        Probe {
          Component     "IGBT2"
          Path          ""
          Signals       {"Device conductivity"}
        }
        Probe {
          Component     "IGBT3"
          Path          ""
          Signals       {"Device conductivity"}
        }
        Probe {
          Component     "IGBT4"
          Path          ""
          Signals       {"Device conductivity"}
        }
        Probe {
          Component     "IGBT5"
          Path          ""
          Signals       {"Device conductivity"}
        }
        Probe {
          Component     "IGBT6"
          Path          ""
          Signals       {"Device conductivity"}
        }
      }
      MaskProbe {
        Name          "Device junction temp"
        Probe {
          Component     "IGBT1"
          Path          ""
          Signals       {"Device junction temp"}
        }
        Probe {
          Component     "IGBT2"
          Path          ""
          Signals       {"Device junction temp"}
        }
        Probe {
          Component     "IGBT3"
          Path          ""
          Signals       {"Device junction temp"}
        }
        Probe {
          Component     "IGBT4"
          Path          ""
          Signals       {"Device junction temp"}
        }
        Probe {
          Component     "IGBT5"
          Path          ""
          Signals       {"Device junction temp"}
        }
        Probe {
          Component     "IGBT6"
          Path          ""
          Signals       {"Device junction temp"}
        }
      }
      MaskProbe {
        Name          "Device cond. losses"
        Probe {
          Component     "IGBT1"
          Path          ""
          Signals       {"Device conduction loss"}
        }
        Probe {
          Component     "IGBT2"
          Path          ""
          Signals       {"Device conduction loss"}
        }
        Probe {
          Component     "IGBT3"
          Path          ""
          Signals       {"Device conduction loss"}
        }
        Probe {
          Component     "IGBT4"
          Path          ""
          Signals       {"Device conduction loss"}
        }
        Probe {
          Component     "IGBT5"
          Path          ""
          Signals       {"Device conduction loss"}
        }
        Probe {
          Component     "IGBT6"
          Path          ""
          Signals       {"Device conduction loss"}
        }
      }
      MaskProbe {
        Name          "Device sw. losses"
        Probe {
          Component     "IGBT1"
          Path          ""
          Signals       {"Device switching loss"}
        }
        Probe {
          Component     "IGBT2"
          Path          ""
          Signals       {"Device switching loss"}
        }
        Probe {
          Component     "IGBT3"
          Path          ""
          Signals       {"Device switching loss"}
        }
        Probe {
          Component     "IGBT4"
          Path          ""
          Signals       {"Device switching loss"}
        }
        Probe {
          Component     "IGBT5"
          Path          ""
          Signals       {"Device switching loss"}
        }
        Probe {
          Component     "IGBT6"
          Path          ""
          Signals       {"Device switching loss"}
        }
      }
    }
    Component {
      Type          Ground
      Name          "Ground"
      Show          off
      Position      [1115, 300]
      Direction     down
      Flipped       on
      LabelPosition west
    }
    Component {
      Type          Ground
      Name          "Ground1"
      Show          off
      Position      [1045, 300]
      Direction     down
      Flipped       on
      LabelPosition west
    }
    Component {
      Type          ThreePhaseMeter
      Name          "3ph Meter"
      Show          off
      Position      [1045, 260]
      Direction     down
      Flipped       on
      LabelPosition southSouthwest
      Parameter {
        Variable      "voltage"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          ThreePhaseVoltageSource
      Name          "V_3ph"
      Show          on
      Position      [1085, 260]
      Direction     down
      Flipped       on
      LabelPosition south
      Parameter {
        Variable      "V"
        Value         "325"
        Show          off
      }
      Parameter {
        Variable      "w"
        Value         "50"
        Show          off
      }
      Parameter {
        Variable      "phi"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "neutral"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Resistor
      Name          "R1"
      Show          off
      Position      [830, 250]
      Direction     right
      Flipped       on
      LabelPosition south
      Parameter {
        Variable      "R"
        Value         "0.023"
        Show          off
      }
    }
    Component {
      Type          Resistor
      Name          "R4"
      Show          off
      Position      [830, 260]
      Direction     right
      Flipped       on
      LabelPosition south
      Parameter {
        Variable      "R"
        Value         "0.023"
        Show          off
      }
    }
    Component {
      Type          Resistor
      Name          "R5"
      Show          off
      Position      [830, 270]
      Direction     right
      Flipped       on
      LabelPosition south
      Parameter {
        Variable      "R"
        Value         "0.023"
        Show          off
      }
    }
    Component {
      Type          Ammeter
      Name          "Am2"
      Show          on
      Position      [600, 220]
      Direction     left
      Flipped       on
      LabelPosition south
    }
    Component {
      Type          Subsystem
      Name          "DC Voltage PI Controller"
      Show          on
      Position      [1105, 630]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-35, -20; 35, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Input
        Position      [-35, 10]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [39, 0]
        Direction     right
      }
      Schematic {
        Location      [201, 371; 771, 589]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Integrator
          Name          "Integrator"
          Show          on
          Position      [245, 110]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "ExternalReset"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "InitialConditionSource"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "x0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "ShowStatePort"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "EnableWrapping"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "UpperLimit"
            Value         "50"
            Show          on
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "-50"
            Show          on
          }
        }
        Component {
          Type          Gain
          Name          "Gain"
          Show          on
          Position      [190, 50]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "0.4"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "Gain1"
          Show          on
          Position      [190, 110]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "81"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum"
          Show          on
          Position      [310, 80]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|++"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "Vdc_err"
          Show          on
          Position      [50, 75]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "id ref"
          Show          on
          Position      [480, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Saturation
          Name          "Saturation"
          Show          on
          Position      [410, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "UpperLimit"
            Value         "50"
            Show          on
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "-50"
            Show          on
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gain1"
          SrcTerminal   2
          DstComponent  "Integrator"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Gain"
          SrcTerminal   2
          Points        [270, 50; 270, 75]
          DstComponent  "Sum"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Saturation"
          SrcTerminal   2
          DstComponent  "id ref"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum"
          SrcTerminal   1
          DstComponent  "Saturation"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Integrator"
          SrcTerminal   2
          Points        [270, 110; 270, 85]
          DstComponent  "Sum"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Vdc_err"
          SrcTerminal   1
          Points        [115, 75; 115, 80; 150, 80]
          Branch {
            Points        [150, 50]
            DstComponent  "Gain"
            DstTerminal   1
          }
          Branch {
            Points        [150, 110]
            DstComponent  "Gain1"
            DstTerminal   1
          }
        }
      }
    }
    Component {
      Type          Constant
      Name          "Vdc ref"
      Show          on
      Position      [945, 635]
      Direction     right
      Flipped       off
      LabelPosition south
      Frame         [-15, -10; 15, 10]
      Parameter {
        Variable      "Value"
        Value         "650"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          ConfigurableSubsystem
      Name          "Deadtime"
      Show          on
      Position      [1570, 675]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-20, -10; 20, 10]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Deadtime"
      MaskDescription "When the configuration is set to 'on', the given deadti"
"me is applied to the switching signal. If the configuration is set to 'off', "
"the deadtime generation is bypassed."
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Parameter {
        Variable      "td"
        Prompt        "Deadtime (s)"
        Type          FreeText
        Value         "0.5e-6"
        Show          off
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Output
        Position      [24, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      TerminalNames { "sw'", "sw" }
      Location      [727, 369; 1156, 494]
      ZoomFactor    1
      SliderPosition [0, 0]
      ShowBrowser   off
      BrowserWidth  100
      Configurations {
        Name          "on"
        Schematic {
          Component {
            Type          Output
            Name          "sw'"
            Show          on
            Position      [295, 50]
            Direction     right
            Flipped       off
            LabelPosition south
            Parameter {
              Variable      "Index"
              Value         "1"
              Show          on
            }
            Parameter {
              Variable      "Width"
              Value         "-1"
              Show          off
            }
          }
          Component {
            Type          Input
            Name          "sw"
            Show          on
            Position      [145, 50]
            Direction     right
            Flipped       off
            LabelPosition south
            Parameter {
              Variable      "Index"
              Value         "2"
              Show          on
            }
            Parameter {
              Variable      "Width"
              Value         "-1"
              Show          off
            }
          }
          Component {
            Type          Reference
            SrcComponent  "Components/Control/Modulators/Blanking Time"
            Name          "Blanking Time"
            Show          on
            Position      [215, 50]
            Direction     up
            Flipped       off
            LabelPosition south
            Frame         [-20, -20; 20, 20]
            Parameter {
              Variable      "tb"
              Value         "td"
              Show          off
            }
            Terminal {
              Type          Output
              Position      [24, 0]
              Direction     right
            }
            Terminal {
              Type          Input
              Position      [-20, 0]
              Direction     left
            }
          }
          Connection {
            Type          Signal
            SrcComponent  "sw"
            SrcTerminal   1
            DstComponent  "Blanking Time"
            DstTerminal   2
          }
          Connection {
            Type          Signal
            SrcComponent  "Blanking Time"
            SrcTerminal   1
            DstComponent  "sw'"
            DstTerminal   1
          }
        }
        Name          "off"
        Schematic {
          Component {
            Type          Output
            Name          "sw'"
            Show          on
            Position      [275, 50]
            Direction     right
            Flipped       off
            LabelPosition south
            Parameter {
              Variable      "Index"
              Value         "1"
              Show          on
            }
            Parameter {
              Variable      "Width"
              Value         "-1"
              Show          off
            }
          }
          Component {
            Type          Input
            Name          "sw"
            Show          on
            Position      [150, 50]
            Direction     right
            Flipped       off
            LabelPosition south
            Parameter {
              Variable      "Index"
              Value         "2"
              Show          on
            }
            Parameter {
              Variable      "Width"
              Value         "-1"
              Show          off
            }
          }
          Connection {
            Type          Signal
            SrcComponent  "sw"
            SrcTerminal   1
            DstComponent  "sw'"
            DstTerminal   1
          }
        }
      }
      Parameter {
        Variable      "Configuration"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Reference
      SrcComponent  "Components/Control/Modulators/Space Vector PWM"
      Name          "SV modulator"
      Show          on
      Position      [1495, 675]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-20, -20; 20, 20]
      Parameter {
        Variable      "pattern"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "fs"
        Value         "25e3"
        Show          off
      }
      Parameter {
        Variable      "output_values"
        Value         "[-1 1]"
        Show          off
      }
      Terminal {
        Type          Output
        Position      [24, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, -10]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-20, 10]
        Direction     left
      }
    }
    Component {
      Type          Sum
      Name          "Sum4"
      Show          off
      Position      [1020, 640]
      Direction     up
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "IconShape"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Inputs"
        Value         "|+-"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "11"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From34"
      Show          off
      Position      [950, 685]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "Udc"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "abc>dq"
      Show          on
      Position      [1425, 770]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [24, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, 10]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-20, -10]
        Direction     left
      }
      Schematic {
        Location      [716, 458; 1203, 705]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Function
          Name          "abc>d"
          Show          on
          Position      [265, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "2/3*(u[1]*cos(u[4])+u[2]*cos(u[4]-2*pi/3)+u[3]*cos("
"u[4]+2*pi/3))"
            Show          off
          }
        }
        Component {
          Type          Function
          Name          "abc>q"
          Show          on
          Position      [265, 130]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "2/3*(-u[1]*sin(u[4])-u[2]*sin(u[4]-2*pi/3)-u[3]*sin"
"(u[4]+2*pi/3))"
            Show          off
          }
        }
        Component {
          Type          SignalMux
          Name          "CMux"
          Show          off
          Position      [175, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "[3 1]"
            Show          off
          }
        }
        Component {
          Type          SignalMux
          Name          "CMux1"
          Show          off
          Position      [335, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "dq"
          Show          on
          Position      [380, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "theta"
          Show          on
          Position      [95, 130]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "abc"
          Show          on
          Position      [95, 85]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "abc>d"
          SrcTerminal   2
          Points        [305, 80; 305, 100]
          DstComponent  "CMux1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "abc>q"
          SrcTerminal   2
          Points        [305, 130; 305, 110]
          DstComponent  "CMux1"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "CMux"
          SrcTerminal   1
          Points        [205, 105]
          Branch {
            Points        [205, 80]
            DstComponent  "abc>d"
            DstTerminal   1
          }
          Branch {
            Points        [205, 130]
            DstComponent  "abc>q"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "CMux1"
          SrcTerminal   1
          DstComponent  "dq"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "theta"
          SrcTerminal   1
          Points        [135, 130; 135, 110]
          DstComponent  "CMux"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "abc"
          SrcTerminal   1
          Points        [135, 85; 135, 100]
          DstComponent  "CMux"
          DstTerminal   2
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "id controller"
      Show          on
      Position      [1230, 640]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-35, -20; 35, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Input
        Position      [-35, -10]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-35, 10]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [39, 0]
        Direction     right
      }
      Schematic {
        Location      [0, 27; 1920, 995]
        ZoomFactor    1.77778
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Integrator
          Name          "Integrator"
          Show          off
          Position      [260, 110]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "ExternalReset"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "InitialConditionSource"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "x0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "ShowStatePort"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "EnableWrapping"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "UpperLimit"
            Value         "inf"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "-inf"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "P"
          Show          on
          Position      [210, 55]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "83.3"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "I"
          Show          on
          Position      [205, 110]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "4000"
            Show          on
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum"
          Show          off
          Position      [325, 80]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|++"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum1"
          Show          off
          Position      [135, 80]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|+-"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "id ref"
          Show          on
          Position      [40, 75]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "idq"
          Show          on
          Position      [40, 175]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "Vd*"
          Show          on
          Position      [450, 85]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          SignalDemux
          Name          "CDemux"
          Show          off
          Position      [85, 175]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum2"
          Show          off
          Position      [385, 85]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|+-"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "Decoupling"
          Show          on
          Position      [205, 180]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "2*pi*50*0.01"
            Show          on
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "I"
          SrcTerminal   2
          DstComponent  "Integrator"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Integrator"
          SrcTerminal   2
          Points        [285, 110; 285, 85]
          DstComponent  "Sum"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "P"
          SrcTerminal   2
          Points        [285, 55; 285, 75]
          DstComponent  "Sum"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "id ref"
          SrcTerminal   1
          DstComponent  "Sum1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum1"
          SrcTerminal   1
          Points        [165, 80]
          Branch {
            Points        [165, 110]
            DstComponent  "I"
            DstTerminal   1
          }
          Branch {
            Points        [165, 55]
            DstComponent  "P"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "idq"
          SrcTerminal   1
          DstComponent  "CDemux"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "CDemux"
          SrcTerminal   2
          Points        [100, 170; 100, 85]
          DstComponent  "Sum1"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum"
          SrcTerminal   1
          DstComponent  "Sum2"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum2"
          SrcTerminal   1
          DstComponent  "Vd*"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "CDemux"
          SrcTerminal   3
          DstComponent  "Decoupling"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Decoupling"
          SrcTerminal   2
          Points        [350, 180; 350, 90]
          DstComponent  "Sum2"
          DstTerminal   3
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "iq controller"
      Show          on
      Position      [1230, 715]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-35, -20; 35, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Input
        Position      [-35, -10]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-35, 10]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [39, 0]
        Direction     right
      }
      Schematic {
        Location      [0, 27; 1920, 995]
        ZoomFactor    1.77778
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Integrator
          Name          "Integrator"
          Show          off
          Position      [260, 110]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "ExternalReset"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "InitialConditionSource"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "x0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "ShowStatePort"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "EnableWrapping"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "UpperLimit"
            Value         "inf"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "-inf"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "P"
          Show          on
          Position      [205, 50]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "83.3"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "I"
          Show          on
          Position      [205, 110]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "4000"
            Show          on
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum"
          Show          off
          Position      [325, 80]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|++"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum1"
          Show          off
          Position      [135, 80]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|+-"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "iq ref"
          Show          on
          Position      [40, 75]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "idq"
          Show          on
          Position      [40, 185]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "Vq*"
          Show          on
          Position      [450, 85]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          SignalDemux
          Name          "CDemux"
          Show          off
          Position      [85, 185]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum2"
          Show          off
          Position      [385, 85]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|++"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "Decoupling"
          Show          on
          Position      [205, 180]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "2*pi*50*0.01"
            Show          on
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "I"
          SrcTerminal   2
          DstComponent  "Integrator"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Integrator"
          SrcTerminal   2
          Points        [285, 110; 285, 85]
          DstComponent  "Sum"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "P"
          SrcTerminal   2
          Points        [285, 50; 285, 75]
          DstComponent  "Sum"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "iq ref"
          SrcTerminal   1
          DstComponent  "Sum1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum1"
          SrcTerminal   1
          Points        [165, 80]
          Branch {
            Points        [165, 110]
            DstComponent  "I"
            DstTerminal   1
          }
          Branch {
            Points        [165, 50]
            DstComponent  "P"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "idq"
          SrcTerminal   1
          DstComponent  "CDemux"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum"
          SrcTerminal   1
          DstComponent  "Sum2"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum2"
          SrcTerminal   1
          DstComponent  "Vq*"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Decoupling"
          SrcTerminal   2
          Points        [350, 180; 350, 90]
          DstComponent  "Sum2"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "CDemux"
          SrcTerminal   3
          Points        [100, 190; 100, 85]
          DstComponent  "Sum1"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "CDemux"
          SrcTerminal   2
          DstComponent  "Decoupling"
          DstTerminal   1
        }
      }
    }
    Component {
      Type          Sum
      Name          "Sum5"
      Show          off
      Position      [1350, 680]
      Direction     up
      Flipped       on
      LabelPosition north
      Parameter {
        Variable      "IconShape"
        Value         "2"
        Show          off
      }
      Parameter {
        Variable      "Inputs"
        Value         "|-+"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "11"
        Show          off
      }
    }
    Component {
      Type          SignalMux
      Name          "CMux"
      Show          off
      Position      [1300, 680]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Width"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Subsystem
      Name          "abc>dq1"
      Show          on
      Position      [1425, 890]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [24, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, 10]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-20, -10]
        Direction     left
      }
      Schematic {
        Location      [716, 458; 1203, 705]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Function
          Name          "abc>d"
          Show          on
          Position      [265, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "2/3*(u[1]*cos(u[4])+u[2]*cos(u[4]-2*pi/3)+u[3]*cos("
"u[4]+2*pi/3))"
            Show          off
          }
        }
        Component {
          Type          Function
          Name          "abc>q"
          Show          on
          Position      [265, 130]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "f(u)"
            Value         "2/3*(-u[1]*sin(u[4])-u[2]*sin(u[4]-2*pi/3)-u[3]*sin"
"(u[4]+2*pi/3))"
            Show          off
          }
        }
        Component {
          Type          SignalMux
          Name          "CMux"
          Show          off
          Position      [175, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "[3 1]"
            Show          off
          }
        }
        Component {
          Type          SignalMux
          Name          "CMux1"
          Show          off
          Position      [335, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "dq"
          Show          on
          Position      [380, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "theta"
          Show          on
          Position      [95, 130]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "abc"
          Show          on
          Position      [95, 85]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "abc>d"
          SrcTerminal   2
          Points        [305, 80; 305, 100]
          DstComponent  "CMux1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "abc>q"
          SrcTerminal   2
          Points        [305, 130; 305, 110]
          DstComponent  "CMux1"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "CMux"
          SrcTerminal   1
          Points        [205, 105]
          Branch {
            Points        [205, 80]
            DstComponent  "abc>d"
            DstTerminal   1
          }
          Branch {
            Points        [205, 130]
            DstComponent  "abc>q"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "CMux1"
          SrcTerminal   1
          DstComponent  "dq"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "theta"
          SrcTerminal   1
          Points        [135, 130; 135, 110]
          DstComponent  "CMux"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "abc"
          SrcTerminal   1
          Points        [135, 85; 135, 100]
          DstComponent  "CMux"
          DstTerminal   2
        }
      }
    }
    Component {
      Type          Scope
      Name          "Scope"
      Show          on
      Position      [1425, 830]
      Direction     up
      Flipped       off
      LabelPosition south
      Location      [480, 190; 830, 447]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAAEwA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAJcA////+wAAAAwAVAByAGEAYwBlAHMAAAAAAP////8AAACXAP///wAAAAMAAAAAAAAAAPw"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABxAP///wAAAg0AAAFfAAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAAAAJAAAAA"
"QAAAGQAAAADAAAAZAAAAAIAAABkAAAABQAAAGQAAAAEAAAAZAAAAAcAAABkAAAABgAAAGQAAAAJAA"
"AAZAAAAAgAAABkAAAAhQAAAAsBAAABAAAAAAAAAAAAAAAAlv////8AAACBAAAAAAAAAAsAAABQAAA"
"AAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAA"
"AAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAA"
"AA1AAAAAQAAAAAAAAPoAAAAADU="
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      Axes          "1"
      TimeRange     "0.0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "0"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    ""
      ShowLegend    "1"
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          Subsystem
      Name          "PLL"
      Show          on
      Position      [1320, 810]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-20, -20; 20, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Parameter {
        Variable      "lim"
        Prompt        "PLL upper limit"
        Type          FreeText
        Value         "2*pi"
        Show          on
        Tunable       off
        TabName       ""
      }
      Terminal {
        Type          Output
        Position      [24, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-20, 0]
        Direction     left
      }
      Schematic {
        Location      [0, 23; 1920, 991]
        ZoomFactor    1.77778
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Subsystem
          Name          "abc>dq2"
          Show          on
          Position      [100, 135]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-20, -20; 20, 20]
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Terminal {
            Type          Output
            Position      [24, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 10]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-20, -10]
            Direction     left
          }
          Schematic {
            Location      [716, 458; 1203, 705]
            ZoomFactor    1
            SliderPosition [0, 0]
            ShowBrowser   off
            BrowserWidth  100
            Component {
              Type          Function
              Name          "abc>d"
              Show          on
              Position      [265, 80]
              Direction     right
              Flipped       off
              LabelPosition south
              Frame         [-20, -10; 20, 10]
              Parameter {
                Variable      "f(u)"
                Value         "2/3*(u[1]*cos(u[4])+u[2]*cos(u[4]-2*pi/3)+u[3]*"
"cos(u[4]+2*pi/3))"
                Show          off
              }
            }
            Component {
              Type          Function
              Name          "abc>q"
              Show          on
              Position      [265, 130]
              Direction     right
              Flipped       off
              LabelPosition south
              Frame         [-20, -10; 20, 10]
              Parameter {
                Variable      "f(u)"
                Value         "2/3*(-u[1]*sin(u[4])-u[2]*sin(u[4]-2*pi/3)-u[3]"
"*sin(u[4]+2*pi/3))"
                Show          off
              }
            }
            Component {
              Type          SignalMux
              Name          "CMux"
              Show          off
              Position      [175, 105]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Width"
                Value         "[3 1]"
                Show          off
              }
            }
            Component {
              Type          SignalMux
              Name          "CMux1"
              Show          off
              Position      [335, 105]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Width"
                Value         "2"
                Show          off
              }
            }
            Component {
              Type          Output
              Name          "dq"
              Show          on
              Position      [380, 105]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "1"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "theta"
              Show          on
              Position      [95, 130]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "2"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Component {
              Type          Input
              Name          "abc"
              Show          on
              Position      [95, 85]
              Direction     right
              Flipped       off
              LabelPosition south
              Parameter {
                Variable      "Index"
                Value         "3"
                Show          on
              }
              Parameter {
                Variable      "Width"
                Value         "-1"
                Show          off
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "abc>d"
              SrcTerminal   2
              Points        [305, 80; 305, 100]
              DstComponent  "CMux1"
              DstTerminal   2
            }
            Connection {
              Type          Signal
              SrcComponent  "abc>q"
              SrcTerminal   2
              Points        [305, 130; 305, 110]
              DstComponent  "CMux1"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "CMux"
              SrcTerminal   1
              Points        [205, 105]
              Branch {
                Points        [205, 80]
                DstComponent  "abc>d"
                DstTerminal   1
              }
              Branch {
                Points        [205, 130]
                DstComponent  "abc>q"
                DstTerminal   1
              }
            }
            Connection {
              Type          Signal
              SrcComponent  "CMux1"
              SrcTerminal   1
              DstComponent  "dq"
              DstTerminal   1
            }
            Connection {
              Type          Signal
              SrcComponent  "theta"
              SrcTerminal   1
              Points        [135, 130; 135, 110]
              DstComponent  "CMux"
              DstTerminal   3
            }
            Connection {
              Type          Signal
              SrcComponent  "abc"
              SrcTerminal   1
              Points        [135, 85; 135, 100]
              DstComponent  "CMux"
              DstTerminal   2
            }
          }
        }
        Component {
          Type          SignalDemux
          Name          "CDemux"
          Show          off
          Position      [150, 135]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "Gain"
          Show          on
          Position      [215, 75]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "10e3"
            Show          on
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Integrator
          Name          "Integrator"
          Show          on
          Position      [215, 140]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "ExternalReset"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "InitialConditionSource"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "x0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "ShowStatePort"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "EnableWrapping"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "UpperLimit"
            Value         "inf"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "-inf"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum1"
          Show          off
          Position      [340, 115]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|++"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "Gain1"
          Show          on
          Position      [275, 140]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "50e3"
            Show          on
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "theta"
          Show          on
          Position      [560, 115]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "V"
          Show          on
          Position      [30, 125]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          CScript
          Name          "Self-resetting\nintegrator"
          Show          on
          Position      [430, 115]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "DialogGeometry"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "NumInputs"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         "lim"
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "GnuExtensions"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         "//Input mapping\n"
"#define e Input(0)\n"
"#define lim_upper ParamRealData(0, 0)  //access external parameter lim\n"
"\n"
"//Used with continuous state\n"
"#define I_deriv ContDeriv(0)\n"
"#define I ContState(0)"
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         "//Continuous state I must only be modified at major"
" time steps\n"
"if (IsMajorStep && I >= lim_upper)\n"
" I = I - lim_upper;\n"
"\n"
"Output(0) = I;\n"
"\n"
"//To use ZC detection to determine exact instant the upper limit is reached,"
"\n"
"//uncomment the next line and define a zero crossing signal in the setup tab "
"\n"
"//ZCSignal(0) = I - lim_upper; //use zc detector to take a step exactly when "
"limit reached\n"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         "I_deriv = e;\n"
"\n"
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "StoreCustomStateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "RestoreCustomStateFcn"
            Value         ""
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "abc>dq2"
          SrcTerminal   1
          DstComponent  "CDemux"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "CDemux"
          SrcTerminal   3
          Points        [175, 140]
          Branch {
            DstComponent  "Integrator"
            DstTerminal   1
          }
          Branch {
            Points        [175, 75]
            DstComponent  "Gain"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gain"
          SrcTerminal   2
          Points        [305, 75; 305, 110]
          DstComponent  "Sum1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Integrator"
          SrcTerminal   2
          DstComponent  "Gain1"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum1"
          SrcTerminal   1
          DstComponent  "Self-resetting\nintegrator"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Gain1"
          SrcTerminal   2
          Points        [305, 140; 305, 120]
          DstComponent  "Sum1"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "V"
          SrcTerminal   1
          DstComponent  "abc>dq2"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Self-resetting\nintegrator"
          SrcTerminal   2
          Points        [510, 115]
          Branch {
            DstComponent  "theta"
            DstTerminal   1
          }
          Branch {
            Points        [510, 215; 65, 215]
            DstComponent  "abc>dq2"
            DstTerminal   2
          }
        }
        Annotation {
          Name          "Control Vq = 0 for theta = 0 at Va peak"
          Position      [135, 15]
        } 
        Annotation {
          Name          "Control Vd = 0 for theta = 0 at Va angle = 0"
          Position      [150, 30]
        } 
      }
    }
    Component {
      Type          Reference
      SrcComponent  "Components/Control/Transformations/RRF->SRF"
      Name          "RRF->SRF"
      Show          on
      Position      [1405, 685]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-15, -15; 15, 15]
      Terminal {
        Type          Input
        Position      [-15, -5]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [19, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-15, 5]
        Direction     left
      }
    }
    Component {
      Type          From
      Name          "From35"
      Show          off
      Position      [1410, 645]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "Udc"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto1"
      Show          off
      Position      [1485, 770]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "udq"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto20"
      Show          off
      Position      [1475, 890]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "idq"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From36"
      Show          off
      Position      [1170, 675]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "idq"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From37"
      Show          off
      Position      [1330, 640]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "udq"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto"
      Show          off
      Position      [1065, 205]
      Direction     down
      Flipped       on
      LabelPosition west
      Parameter {
        Variable      "Tag"
        Value         "voltage_grid"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto21"
      Show          off
      Position      [1025, 215]
      Direction     down
      Flipped       on
      LabelPosition west
      Parameter {
        Variable      "Tag"
        Value         "i_abc"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto22"
      Show          off
      Position      [490, 265]
      Direction     right
      Flipped       on
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "Udc"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From38"
      Show          off
      Position      [1200, 810]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "voltage_grid"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From39"
      Show          off
      Position      [1255, 880]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "i_abc"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Scope
      Name          "Results"
      Show          on
      Position      [1000, 435]
      Direction     up
      Flipped       off
      LabelPosition south
      Location      [673, 168; 1753, 888]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAC0AAACNPwCAAAABPsAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAAKwA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGYA////+wAAABwAUwBpAG0AdQBsAGEAdABpAG8AbgBSAHUAbgBzAAAAAAD/////AAAAAAA"
"AAAD7AAAADABUAHIAYQBjAGUAcwEAAAAvAAACNAAAAGYA////AAAAAwAABDgAAAB9/AEAAAAB+wAA"
"ABQARABhAHQAYQBXAGkAZABnAGUAdAEAAAAAAAAEOAAAAFAA////AAADgAAAAjQAAAAEAAAABAAAA"
"AgAAAAI/AAAAAEAAAACAAAAAQAAAA4AVABvAG8AbABCAGEAcgEAAAAA/////wAAAAAAAAAA"
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAAAAJAAAAA"
"wAAAGQAAAAIAAAAZAAAAAkAAABkAAAABAAAAGQAAAAFAAAAZAAAAAYAAABkAAAABwAAAGQAAAABAA"
"AAZAAAAAIAAABkAAAEJwAAAAsBAAABAAAAAAAAAAAAAAAAZP////8AAACBAAAAAAAAAAsAAADdAAA"
"AAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAA"
"AAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAA"
"ANKAAAAAQAAAAAAAAPoAAAAACQ="
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAA"
"AEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"AAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      Axes          "4"
      TimeRange     "0.0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "1"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    ""
      ShowLegend    "1"
      Axis {
        Name          "Vdc"
        AutoScale     1
        MinValue      0
        MaxValue      0.001
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "Vphase"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "Iphase"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "P,Q"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Vdc"
      Show          on
      Position      [870, 420]
      Direction     right
      Flipped       off
      LabelPosition south
      Probe {
        Component     "C3"
        Path          ""
        Signals       {"Capacitor voltage"}
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Vphase"
      Show          on
      Position      [870, 460]
      Direction     right
      Flipped       off
      LabelPosition south
      Probe {
        Component     "3ph Meter"
        Path          ""
        Signals       {"Measured voltage"}
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Iphase"
      Show          on
      Position      [870, 500]
      Direction     right
      Flipped       off
      LabelPosition south
      Probe {
        Component     "3ph Meter"
        Path          ""
        Signals       {"Measured current"}
      }
    }
    Component {
      Type          Subsystem
      Name          "Power"
      Show          on
      Position      [940, 465]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-15, -15; 15, 15]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskType      "Power Calculation"
      MaskDescription "Calculates the instantaneous real and reactive power, a"
"ssuming a balanced system. "
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Input
        Position      [-15, 5]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-15, -5]
        Direction     left
      }
      Terminal {
        Type          Output
        Position      [19, 0]
        Direction     right
      }
      Schematic {
        Location      [141, 534; 455, 746]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "I"
          Show          on
          Position      [30, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "U"
          Show          on
          Position      [30, 30]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Product
          Name          "Product"
          Show          off
          Position      [165, 90]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum"
          Show          off
          Position      [210, 90]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|+"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Product
          Name          "Product1"
          Show          off
          Position      [165, 35]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum1"
          Show          off
          Position      [210, 35]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|+"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "P,Q"
          Show          on
          Position      [285, 40]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "Gain"
          Show          on
          Position      [105, 95]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "[0 1 -1; -1 0 1; 1 -1 0]/sqrt(3)"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          SignalMux
          Name          "Mux"
          Show          off
          Position      [245, 40]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Product"
          SrcTerminal   1
          DstComponent  "Sum"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Product1"
          SrcTerminal   1
          DstComponent  "Sum1"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "U"
          SrcTerminal   1
          Points        [70, 30]
          Branch {
            Points        [70, 95]
            DstComponent  "Gain"
            DstTerminal   1
          }
          Branch {
            DstComponent  "Product1"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gain"
          SrcTerminal   2
          DstComponent  "Product"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "I"
          SrcTerminal   1
          Points        [130, 65]
          Branch {
            Points        [130, 85]
            DstComponent  "Product"
            DstTerminal   2
          }
          Branch {
            Points        [130, 40]
            DstComponent  "Product1"
            DstTerminal   3
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum1"
          SrcTerminal   1
          DstComponent  "Mux"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum"
          SrcTerminal   1
          Points        [230, 90]
          DstComponent  "Mux"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Mux"
          SrcTerminal   1
          DstComponent  "P,Q"
          DstTerminal   1
        }
      }
      MaskProbe {
        Name          "P"
        Probe {
          Component     "P,Q"
          Path          ""
          Signals       {"Input"}
        }
      }
      MaskProbe {
        Name          "Q"
      }
    }
    Component {
      Type          Goto
      Name          "Goto23"
      Show          off
      Position      [1615, 675]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "pwm_VOC"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From40"
      Show          off
      Position      [690, 210]
      Direction     right
      Flipped       on
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "pwm_VOC"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Scope
      Name          "Scope1"
      Show          on
      Position      [650, 145]
      Direction     up
      Flipped       off
      LabelPosition south
      Location      [251, 118; 924, 666]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAADQA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGYA////+wAAAAwAVAByAGEAYwBlAHMAAAAAAP////8AAABmAP///wAAAAMAAAKhAAAAW/w"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQBAAAAAAAAAqEAAABQAP///wAAAqEAAAGqAAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAAAAJAAAAA"
"wAAAGQAAAAIAAAAZAAAAAkAAABkAAAABAAAAGQAAAAFAAAAZAAAAAYAAABkAAAABwAAAGQAAAABAA"
"AAZAAAAAIAAABkAAACoQAAAAsBAAABAAAAAAAAAAAAAAAAZP////8AAACBAAAAAAAAAAsAAAC0AAA"
"AAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAA"
"AAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAA"
"AHtAAAAAQAAAAAAAAPoAAAAACQ="
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      Axes          "1"
      TimeRange     "0.0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "1"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    "Time / s"
      ShowLegend    "1"
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency / Hz"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          Step
      Name          "Step3"
      Show          on
      Position      [1020, 745]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Time"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "Before"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "After"
        Value         "10"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          PlecsProbe
      Name          "PV V, I2"
      Show          on
      Position      [375, 135]
      Direction     right
      Flipped       off
      LabelPosition south
      Probe {
        Component     "Am2"
        Path          ""
        Signals       {"Measured current"}
      }
      Probe {
        Component     "C3"
        Path          ""
        Signals       {"Capacitor voltage"}
      }
    }
    Component {
      Type          Subsystem
      Name          "Sub3"
      Show          off
      Position      [440, 135]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-25, -20; 25, 20]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [29, 0]
        Direction     right
      }
      Terminal {
        Type          Input
        Position      [-25, 0]
        Direction     left
      }
      Schematic {
        Location      [0, 27; 1920, 1005]
        ZoomFactor    4.40773
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          SignalDemux
          Name          "Demux3"
          Show          off
          Position      [155, 65]
          Direction     right
          Flipped       on
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Product
          Name          "Product"
          Show          off
          Position      [225, 65]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Output
          Name          "P_pv"
          Show          on
          Position      [285, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "V,I"
          Show          on
          Position      [30, 65]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Control/Filters/Moving Average"
          Name          "Moving Average"
          Show          on
          Position      [85, 65]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-15, -15; 15, 15]
          Parameter {
            Variable      "x0"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "T_period"
            Value         "CC_DCDC.T_sw"
            Show          off
          }
          Parameter {
            Variable      "buffer_size"
            Value         "1024"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [19, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-15, 0]
            Direction     left
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Product"
          SrcTerminal   1
          DstComponent  "P_pv"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux3"
          SrcTerminal   2
          DstComponent  "Product"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Demux3"
          SrcTerminal   3
          DstComponent  "Product"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "V,I"
          SrcTerminal   1
          DstComponent  "Moving Average"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Moving Average"
          SrcTerminal   1
          DstComponent  "Demux3"
          DstTerminal   1
        }
      }
    }
    Component {
      Type          Scope
      Name          "Scope2"
      Show          on
      Position      [520, 135]
      Direction     up
      Flipped       off
      LabelPosition south
      Location      [640, 276; 990, 513]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAAEwA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAJcA////+wAAAAwAVAByAGEAYwBlAHMAAAAAAP////8AAACXAP///wAAAAMAAAAAAAAAAPw"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABxAP///wAAAg0AAAFBAAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAAAAJAAAAA"
"QAAAGQAAAADAAAAZAAAAAIAAABkAAAABQAAAGQAAAAEAAAAZAAAAAcAAABkAAAABgAAAGQAAAAJAA"
"AAZAAAAAgAAABkAAAAnQAAAAsBAAABAAAAAAAAAAAAAAAAlv////8AAACBAAAAAAAAAAsAAABoAAA"
"AAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAA"
"AAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAA"
"AA1AAAAAQAAAAAAAAPoAAAAADU="
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      Axes          "1"
      TimeRange     "0.0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "0"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    "Time / s"
      ShowLegend    "1"
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency / Hz"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          ManualSignalSwitch
      Name          "Manual Switch2"
      Show          on
      Position      [1105, 705]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "SwitchState"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Constant
      Name          "Iq ref"
      Show          on
      Position      [1015, 700]
      Direction     right
      Flipped       off
      LabelPosition south
      Frame         [-10, -10; 10, 10]
      Parameter {
        Variable      "Value"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "10"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From41"
      Show          off
      Position      [1375, 390]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "G"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From42"
      Show          off
      Position      [1385, 355]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "T"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Scope
      Name          "MPPT1"
      Show          on
      Position      [1485, 405]
      Direction     up
      Flipped       off
      LabelPosition south
      Location      [527, 27; 1280, 727]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAADHAAACofwCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAAKwA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGYA////+wAAAAwAVAByAGEAYwBlAHMBAAAALwAAAqEAAABmAP///wAAAAMAAAAAAAAAAPw"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABQAP///wAAAiYAAAKhAAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAAAAJAAAAA"
"wAAAH0AAAAIAAAAfQAAAAkAAAB9AAAABAAAAH0AAAAFAAAAfQAAAAYAAAB9AAAABwAAAH0AAAABAA"
"AAfQAAAAIAAAB9AAAA3gAAAAsBAAABAAAAAAAAAAAAAAAAZP////8AAACBAAAAAAAAAAsAAAC6AAA"
"AAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAA"
"AAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAA"
"AAkAAAAAQAAAAAAAAPoAAAAACQ="
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAA"
"AEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"AAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      Axes          "4"
      TimeRange     "0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "1"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    "Time (s)"
      ShowLegend    "1"
      Axis {
        Name          "Temperature "
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        AxisLabel     "degC "
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "Irradiance"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        AxisLabel     "W/m^2"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "Voltages (Reference & Actual)"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        AxisLabel     "V"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Axis {
        Name          "Power"
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        AxisLabel     "W"
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          SignalMux
      Name          "Mux2"
      Show          off
      Position      [1245, 410]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Width"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From43"
      Show          off
      Position      [1260, 455]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "P_pv2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From44"
      Show          off
      Position      [1210, 395]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "V_pv2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From45"
      Show          off
      Position      [1210, 415]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "vref2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Gain
      Name          "Gain1"
      Show          off
      Position      [1410, 390]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "K"
        Value         "1e3"
        Show          off
      }
      Parameter {
        Variable      "Multiplication"
        Value         "1"
        Show          off
      }
      Parameter {
        Variable      "DataType"
        Value         "11"
        Show          off
      }
    }
    Component {
      Type          TransferFunction
      Name          "Transfer Fcn1"
      Show          off
      Position      [1345, 455]
      Direction     right
      Flipped       off
      LabelPosition south
      Frame         [-30, -15; 30, 15]
      Parameter {
        Variable      "Numerator"
        Value         "[1]"
        Show          off
      }
      Parameter {
        Variable      "Denominator"
        Value         "[2e-3 1]"
        Show          off
      }
      Parameter {
        Variable      "X0"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          SignalMux
      Name          "Mux6"
      Show          off
      Position      [1430, 360]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Width"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          From
      Name          "From46"
      Show          off
      Position      [1365, 365]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "Tm2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto16"
      Show          off
      Position      [290, 825]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "vref2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "1"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto6"
      Show          off
      Position      [805, 690]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "duty_scope"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Goto
      Name          "Goto15"
      Show          off
      Position      [805, 870]
      Direction     right
      Flipped       off
      LabelPosition south
      Parameter {
        Variable      "Tag"
        Value         "duty_scope2"
        Show          off
      }
      Parameter {
        Variable      "Visibility"
        Value         "2"
        Show          off
      }
    }
    Component {
      Type          Resistor
      Name          "R6"
      Show          on
      Position      [570, 265]
      Direction     up
      Flipped       off
      LabelPosition east
      Parameter {
        Variable      "R"
        Value         "250e3"
        Show          off
      }
    }
    Component {
      Type          PlecsProbe
      Name          "Probe"
      Show          on
      Position      [1705, 810]
      Direction     right
      Flipped       off
      LabelPosition south
      Probe {
        Component     "IGBT1"
        Path          "2-Level\\nIGBT\\nConv."
        Signals       {"Device current"}
      }
    }
    Component {
      Type          Scope
      Name          "Scope3"
      Show          on
      Position      [1810, 805]
      Direction     up
      Flipped       off
      LabelPosition south
      Location      [0, 27; 1920, 1026]
      State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAA/sAAAAQAFoAbwBvA"
"G0AQQByAGUAYQAAAAAA/////wAAADQA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAAAA//"
"///wAAAGYA////+wAAAAwAVAByAGEAYwBlAHMAAAAAAP////8AAABmAP///wAAAAMAAAAAAAAAAPw"
"BAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABQAP///wAAB4AAAAPMAAAA"
"BAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AAAAAA"
"AAAAA=="
      SavedViews    "AAAAAgAAAAA="
      HeaderState   "AAAA/wAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAL/gMAAAAJAAAAA"
"wAAAGQAAAAIAAAAZAAAAAkAAABkAAAABAAAAGQAAAAFAAAAZAAAAAYAAABkAAAABwAAAGQAAAABAA"
"AAZAAAAAIAAABkAAAAzQAAAAsBAAABAAAAAAAAAAAAAAAAZP////8AAACBAAAAAAAAAAsAAACpAAA"
"AAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAA"
"AAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAA"
"AAkAAAAAQAAAAAAAAPoAAAAACQ="
      PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
      Axes          "1"
      TimeRange     "0.0"
      ScrollingMode "1"
      SingleTimeAxis "1"
      Open          "0"
      Ts            "-1"
      SampleLimit   "0"
      XAxisLabel    "Time / s"
      ShowLegend    "1"
      Axis {
        Name          ""
        AutoScale     1
        MinValue      0
        MaxValue      1
        Signals       {}
        SignalTypes   [ ]
        Untangle      0
        KeepBaseline  off
        BaselineValue 0
      }
      Fourier {
        SingleXAxis       on
        AxisLabel         "Frequency / Hz"
        Scaling           0
        PhaseDisplay      0
        ShowFourierLegend off
        Axis {
          Name          ""
          AutoScale     1
          MinValue      0
          MaxValue      1
          Signals       {}
          Untangle      0
          KeepBaseline  off
          BaselineValue 0
        }
      }
    }
    Component {
      Type          Diode
      Name          "D7"
      Show          off
      Position      [180, 500]
      Direction     down
      Flipped       off
      LabelPosition east
      Parameter {
        Variable      "Vf"
        Value         "0.85"
        Show          off
      }
      Parameter {
        Variable      "Ron"
        Value         "0.0425"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         "0"
        Show          off
      }
    }
    Component {
      Type          Diode
      Name          "D8"
      Show          off
      Position      [210, 545]
      Direction     down
      Flipped       off
      LabelPosition east
      Parameter {
        Variable      "Vf"
        Value         "0.85"
        Show          off
      }
      Parameter {
        Variable      "Ron"
        Value         "0.0425"
        Show          off
      }
      Parameter {
        Variable      "thermal"
        Value         ""
        Show          off
      }
      Parameter {
        Variable      "Rth"
        Value         "0"
        Show          off
      }
      Parameter {
        Variable      "T_init"
        Value         "0"
        Show          off
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From"
      SrcTerminal   1
      Points        [1625, 255; 1625, 250]
      DstComponent  "P vs V"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From2"
      SrcTerminal   1
      Points        [1625, 235; 1625, 240]
      DstComponent  "P vs V"
      DstTerminal   2
    }
    Connection {
      Type          Wire
      SrcComponent  "Am"
      SrcTerminal   2
      DstComponent  "L2"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "R2"
      SrcTerminal   1
      DstComponent  "L2"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From3"
      SrcTerminal   1
      DstComponent  "IGBT1"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "From7"
      SrcTerminal   1
      DstComponent  "Mux4"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From8"
      SrcTerminal   1
      DstComponent  "Mux4"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "From11"
      SrcTerminal   1
      DstComponent  "Current Controller"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Step"
      SrcTerminal   1
      DstComponent  "Goto8"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Step1"
      SrcTerminal   1
      DstComponent  "Goto9"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From19"
      SrcTerminal   1
      Points        [1220, 225; 1220, 235]
      DstComponent  "Mux1"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From20"
      SrcTerminal   1
      DstComponent  "Mux1"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Gain"
      SrcTerminal   2
      Points        [1445, 220; 1445, 225; 1465, 225]
    }
    Connection {
      Type          Signal
      SrcComponent  "From17"
      SrcTerminal   1
      DstComponent  "Gain"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Mux4"
      SrcTerminal   1
      DstComponent  "MPP Controller"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Sum1"
      SrcTerminal   1
      DstComponent  "Voltage Controller"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From23"
      SrcTerminal   1
      Points        [1625, 205; 1625, 200]
      DstComponent  "P vs V1"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From24"
      SrcTerminal   1
      Points        [1625, 185; 1625, 190]
      DstComponent  "P vs V1"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "PWM"
      SrcTerminal   1
      DstComponent  "Goto5"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From12"
      SrcTerminal   1
      DstComponent  "Voltage Controller"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "From6"
      SrcTerminal   1
      Points        [310, 765]
      DstComponent  "Sum1"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Sum"
      SrcTerminal   1
      DstComponent  "Current Controller"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From4"
      SrcTerminal   1
      Points        [505, 765]
      DstComponent  "Sum"
      DstTerminal   3
    }
    Connection {
      Type          Wire
      SrcComponent  "2-Level\nIGBT\nConv."
      SrcTerminal   5
      Points        [650, 300; 550, 300]
      Branch {
        Points        [520, 300]
        Branch {
          DstComponent  "Vdc1"
          DstTerminal   2
        }
        Branch {
          Points        [520, 385]
          Branch {
            Points        [355, 385]
            Branch {
              DstComponent  "IGBT2"
              DstTerminal   2
            }
            Branch {
              Points        [185, 385]
              Branch {
                Points        [125, 385; 125, 365]
                Branch {
                  Points        [155, 365]
                  DstComponent  "D3"
                  DstTerminal   1
                }
                Branch {
                  DstComponent  "PV_Villalva3"
                  DstTerminal   2
                }
              }
              Branch {
                DstComponent  "C2"
                DstTerminal   2
              }
            }
          }
          Branch {
            Points        [520, 590; 415, 590]
            Branch {
              DstComponent  "IGBT1"
              DstTerminal   2
            }
            Branch {
              Points        [245, 590]
              Branch {
                Points        [180, 590; 180, 575]
                Branch {
                  Points        [210, 575]
                  DstComponent  "D8"
                  DstTerminal   1
                }
                Branch {
                  DstComponent  "PV_Villalva2"
                  DstTerminal   2
                }
              }
              Branch {
                DstComponent  "C1"
                DstTerminal   2
              }
            }
          }
        }
      }
      Branch {
        Points        [550, 290]
        Branch {
          DstComponent  "C3"
          DstTerminal   2
        }
        Branch {
          Points        [570, 290]
          DstComponent  "R6"
          DstTerminal   2
        }
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Voltage Controller"
      SrcTerminal   1
      DstComponent  "Sum"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "MPP Controller"
      SrcTerminal   1
      Points        [190, 720; 190, 705]
      DstComponent  "Manual Switch"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Manual_reference"
      SrcTerminal   1
      Points        [190, 675; 190, 695]
      DstComponent  "Manual Switch"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Manual Switch"
      SrcTerminal   1
      Points        [260, 700]
      Branch {
        DstComponent  "Sum1"
        DstTerminal   2
      }
      Branch {
        DstComponent  "Goto10"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From21"
      SrcTerminal   1
      Points        [1560, 530]
      DstComponent  "Mux3"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Vpv"
      SrcTerminal   1
      DstComponent  "Goto3"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Current Controller"
      SrcTerminal   1
      DstComponent  "PWM"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From25"
      SrcTerminal   1
      DstComponent  "Mux3"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Mux3"
      SrcTerminal   1
      DstComponent  "PWM2"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "PI_ON"
      SrcTerminal   1
      DstComponent  "Goto7"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "PV V, I"
      SrcTerminal   1
      DstComponent  "Sub1"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Sub1"
      SrcTerminal   1
      Points        [670, 510; 670, 505]
      DstComponent  "Goto2"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "C1"
      SrcTerminal   1
      Points        [245, 485]
      Branch {
        DstComponent  "Am"
        DstTerminal   1
      }
      Branch {
        DstComponent  "D7"
        DstTerminal   2
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "PV_Villalva2"
      SrcTerminal   5
      DstComponent  "Goto11"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From22"
      SrcTerminal   1
      DstComponent  "PV_Villalva2"
      DstTerminal   4
    }
    Connection {
      Type          Signal
      SrcComponent  "From26"
      SrcTerminal   1
      DstComponent  "PV_Villalva2"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "From18"
      SrcTerminal   1
      DstComponent  "Mux"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From27"
      SrcTerminal   1
      DstComponent  "Mux"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Mux"
      SrcTerminal   1
      Points        [1450, 190; 1450, 220; 1465, 220]
    }
    Connection {
      Type          Signal
      SrcComponent  "V_bus"
      SrcTerminal   1
      Points        [1560, 565]
      DstComponent  "Mux3"
      DstTerminal   4
    }
    Connection {
      Type          Signal
      SrcComponent  "From14"
      SrcTerminal   1
      DstComponent  "Transfer Fcn"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "Am1"
      SrcTerminal   2
      DstComponent  "L3"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "R3"
      SrcTerminal   1
      DstComponent  "L3"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From5"
      SrcTerminal   1
      DstComponent  "IGBT2"
      DstTerminal   3
    }
    Connection {
      Type          Wire
      SrcComponent  "R3"
      SrcTerminal   2
      Points        [355, 275]
      Branch {
        DstComponent  "D5"
        DstTerminal   1
      }
      Branch {
        DstComponent  "IGBT2"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Am1"
      SrcTerminal   3
      DstComponent  "Goto12"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From13"
      SrcTerminal   1
      DstComponent  "Mux5"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From15"
      SrcTerminal   1
      DstComponent  "Mux5"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "From16"
      SrcTerminal   1
      DstComponent  "Current Controller1"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Mux5"
      SrcTerminal   1
      DstComponent  "MPP Controller1"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Sum3"
      SrcTerminal   1
      DstComponent  "Voltage Controller1"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "PWM1"
      SrcTerminal   3
      DstComponent  "Goto15"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "PWM1"
      SrcTerminal   1
      DstComponent  "Goto14"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From30"
      SrcTerminal   1
      DstComponent  "Voltage Controller1"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "From10"
      SrcTerminal   1
      Points        [310, 950]
      DstComponent  "Sum3"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Sum2"
      SrcTerminal   1
      DstComponent  "Current Controller1"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From9"
      SrcTerminal   1
      Points        [505, 950]
      DstComponent  "Sum2"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Voltage Controller1"
      SrcTerminal   1
      DstComponent  "Sum2"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "MPP Controller1"
      SrcTerminal   1
      Points        [190, 900; 190, 885]
      DstComponent  "Manual Switch1"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Manual_reference1"
      SrcTerminal   1
      Points        [190, 855; 190, 875]
      DstComponent  "Manual Switch1"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Current Controller1"
      SrcTerminal   1
      DstComponent  "PWM1"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Vpv1"
      SrcTerminal   1
      DstComponent  "Goto18"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "PV V, I1"
      SrcTerminal   1
      DstComponent  "Sub2"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Sub2"
      SrcTerminal   1
      DstComponent  "Goto17"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From1"
      SrcTerminal   1
      Points        [1625, 445; 1625, 440]
      DstComponent  "P vs V2"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From31"
      SrcTerminal   1
      Points        [1625, 425; 1625, 430]
      DstComponent  "P vs V2"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From32"
      SrcTerminal   1
      Points        [1625, 395; 1625, 390]
      DstComponent  "P vs V3"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From33"
      SrcTerminal   1
      Points        [1625, 375; 1625, 380]
      DstComponent  "P vs V3"
      DstTerminal   2
    }
    Connection {
      Type          Wire
      SrcComponent  "Vdc1"
      SrcTerminal   1
      Points        [520, 220]
      Branch {
        Points        [550, 220]
        Branch {
          Points        [550, 240]
          Branch {
            DstComponent  "C3"
            DstTerminal   1
          }
          Branch {
            Points        [570, 240]
            DstComponent  "R6"
            DstTerminal   1
          }
        }
        Branch {
          DstComponent  "Am2"
          DstTerminal   2
        }
      }
      Branch {
        Points        [415, 220]
        Branch {
          Points        [355, 220]
          DstComponent  "D5"
          DstTerminal   2
        }
        Branch {
          DstComponent  "D6"
          DstTerminal   2
        }
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Am"
      SrcTerminal   3
      DstComponent  "Goto4"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "Ground"
      SrcTerminal   1
      Points        [1115, 260]
      DstComponent  "V_3ph"
      DstTerminal   4
    }
    Connection {
      Type          Wire
      SrcComponent  "Ground1"
      SrcTerminal   1
      DstComponent  "3ph Meter"
      DstTerminal   9
    }
    Connection {
      Type          Wire
      SrcComponent  "3ph Meter"
      SrcTerminal   4
      DstComponent  "R1"
      DstTerminal   2
    }
    Connection {
      Type          Wire
      SrcComponent  "3ph Meter"
      SrcTerminal   5
      DstComponent  "R4"
      DstTerminal   2
    }
    Connection {
      Type          Wire
      SrcComponent  "3ph Meter"
      SrcTerminal   6
      DstComponent  "R5"
      DstTerminal   2
    }
    Connection {
      Type          Wire
      SrcComponent  "Am2"
      SrcTerminal   1
      Points        [650, 220]
      DstComponent  "2-Level\nIGBT\nConv."
      DstTerminal   4
    }
    Connection {
      Type          Signal
      SrcComponent  "SV modulator"
      SrcTerminal   1
      DstComponent  "Deadtime"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Vdc ref"
      SrcTerminal   1
      DstComponent  "Sum4"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From34"
      SrcTerminal   1
      Points        [975, 685; 975, 645]
      DstComponent  "Sum4"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "id controller"
      SrcTerminal   3
      Points        [1285, 640]
      DstComponent  "CMux"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "iq controller"
      SrcTerminal   3
      Points        [1285, 715]
      DstComponent  "CMux"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "CMux"
      SrcTerminal   1
      DstComponent  "Sum5"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "PLL"
      SrcTerminal   1
      Points        [1370, 810]
      Branch {
        Points        [1370, 830]
        Branch {
          Points        [1370, 900]
          DstComponent  "abc>dq1"
          DstTerminal   2
        }
        Branch {
          DstComponent  "Scope"
          DstTerminal   1
        }
      }
      Branch {
        Points        [1370, 780]
        Branch {
          DstComponent  "abc>dq"
          DstTerminal   2
        }
        Branch {
          Points        [1370, 690]
          DstComponent  "RRF->SRF"
          DstTerminal   3
        }
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "DC Voltage PI Controller"
      SrcTerminal   2
      DstComponent  "id controller"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Sum5"
      SrcTerminal   1
      DstComponent  "RRF->SRF"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From35"
      SrcTerminal   1
      Points        [1425, 645; 1425, 665]
      DstComponent  "SV modulator"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "RRF->SRF"
      SrcTerminal   2
      DstComponent  "SV modulator"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "abc>dq"
      SrcTerminal   1
      DstComponent  "Goto1"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "abc>dq1"
      SrcTerminal   1
      DstComponent  "Goto20"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From36"
      SrcTerminal   1
      Points        [1180, 675]
      Branch {
        DstComponent  "id controller"
        DstTerminal   2
      }
      Branch {
        DstComponent  "iq controller"
        DstTerminal   2
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From37"
      SrcTerminal   1
      Points        [1350, 640]
      DstComponent  "Sum5"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Sum4"
      SrcTerminal   1
      DstComponent  "DC Voltage PI Controller"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "3ph Meter"
      SrcTerminal   7
      Points        [1050, 235; 1065, 235]
      DstComponent  "Goto"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "3ph Meter"
      SrcTerminal   8
      Points        [1040, 235]
      DstComponent  "Goto21"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Vdc1"
      SrcTerminal   3
      DstComponent  "Goto22"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From38"
      SrcTerminal   1
      Points        [1270, 810]
      Branch {
        Points        [1270, 760]
        DstComponent  "abc>dq"
        DstTerminal   3
      }
      Branch {
        DstComponent  "PLL"
        DstTerminal   2
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From39"
      SrcTerminal   1
      DstComponent  "abc>dq1"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Vdc"
      SrcTerminal   1
      DstComponent  "Results"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Power"
      SrcTerminal   3
      Points        [965, 465; 965, 450]
      DstComponent  "Results"
      DstTerminal   4
    }
    Connection {
      Type          Signal
      SrcComponent  "Iphase"
      SrcTerminal   1
      Points        [905, 500; 905, 470]
      Branch {
        Points        [905, 440]
        DstComponent  "Results"
        DstTerminal   3
      }
      Branch {
        DstComponent  "Power"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Vphase"
      SrcTerminal   1
      Points        [895, 460]
      Branch {
        Points        [895, 430]
        DstComponent  "Results"
        DstTerminal   2
      }
      Branch {
        DstComponent  "Power"
        DstTerminal   2
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "From40"
      SrcTerminal   1
      Points        [665, 210]
      DstComponent  "2-Level\nIGBT\nConv."
      DstTerminal   6
    }
    Connection {
      Type          Signal
      SrcComponent  "PV V, I2"
      SrcTerminal   1
      DstComponent  "Sub3"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Sub3"
      SrcTerminal   1
      DstComponent  "Scope2"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "L1"
      SrcTerminal   2
      DstComponent  "2-Level\nIGBT\nConv."
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "L4"
      SrcTerminal   2
      DstComponent  "2-Level\nIGBT\nConv."
      DstTerminal   2
    }
    Connection {
      Type          Wire
      SrcComponent  "L5"
      SrcTerminal   2
      DstComponent  "2-Level\nIGBT\nConv."
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "From28"
      SrcTerminal   1
      DstComponent  "PV_Villalva3"
      DstTerminal   4
    }
    Connection {
      Type          Signal
      SrcComponent  "From29"
      SrcTerminal   1
      DstComponent  "PV_Villalva3"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "PV_Villalva3"
      SrcTerminal   5
      DstComponent  "Goto13"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "V_3ph"
      SrcTerminal   3
      DstComponent  "3ph Meter"
      DstTerminal   3
    }
    Connection {
      Type          Wire
      SrcComponent  "V_3ph"
      SrcTerminal   1
      DstComponent  "3ph Meter"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "3ph Meter"
      SrcTerminal   2
      DstComponent  "V_3ph"
      DstTerminal   2
    }
    Connection {
      Type          Wire
      SrcComponent  "R1"
      SrcTerminal   1
      DstComponent  "L1"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "L4"
      SrcTerminal   1
      DstComponent  "R4"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "L5"
      SrcTerminal   1
      DstComponent  "R5"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Am2"
      SrcTerminal   3
      Points        [600, 145]
      DstComponent  "Scope1"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "D3"
      SrcTerminal   2
      Points        [155, 305; 125, 305]
      Branch {
        DstComponent  "PV_Villalva3"
        DstTerminal   1
      }
      Branch {
        DstComponent  "D4"
        DstTerminal   1
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "C2"
      SrcTerminal   1
      Points        [185, 275]
      Branch {
        DstComponent  "Am1"
        DstTerminal   1
      }
      Branch {
        DstComponent  "D4"
        DstTerminal   2
      }
    }
    Connection {
      Type          Wire
      SrcComponent  "R2"
      SrcTerminal   2
      Points        [415, 485]
      Branch {
        DstComponent  "IGBT1"
        DstTerminal   1
      }
      Branch {
        DstComponent  "D6"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "Manual Switch2"
      SrcTerminal   1
      DstComponent  "iq controller"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Step3"
      SrcTerminal   1
      Points        [1060, 745; 1060, 710]
      DstComponent  "Manual Switch2"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Iq ref"
      SrcTerminal   1
      DstComponent  "Manual Switch2"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "Deadtime"
      SrcTerminal   1
      DstComponent  "Goto23"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Transfer Fcn"
      SrcTerminal   2
      Points        [1450, 285; 1450, 240; 1465, 240]
    }
    Connection {
      Type          Signal
      SrcComponent  "Mux1"
      SrcTerminal   1
      Points        [1350, 240; 1350, 235]
      DstComponent  "MPPT"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From44"
      SrcTerminal   1
      Points        [1225, 395; 1225, 405]
      DstComponent  "Mux2"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From45"
      SrcTerminal   1
      DstComponent  "Mux2"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Gain1"
      SrcTerminal   2
      Points        [1450, 390; 1450, 400]
      DstComponent  "MPPT1"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From41"
      SrcTerminal   1
      DstComponent  "Gain1"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From42"
      SrcTerminal   1
      DstComponent  "Mux6"
      DstTerminal   2
    }
    Connection {
      Type          Signal
      SrcComponent  "From46"
      SrcTerminal   1
      DstComponent  "Mux6"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Mux6"
      SrcTerminal   1
      Points        [1455, 360]
      DstComponent  "MPPT1"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "From43"
      SrcTerminal   1
      DstComponent  "Transfer Fcn1"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Transfer Fcn1"
      SrcTerminal   2
      Points        [1455, 455]
      DstComponent  "MPPT1"
      DstTerminal   4
    }
    Connection {
      Type          Signal
      SrcComponent  "Mux2"
      SrcTerminal   1
      DstComponent  "MPPT1"
      DstTerminal   3
    }
    Connection {
      Type          Signal
      SrcComponent  "Manual Switch1"
      SrcTerminal   1
      Points        [270, 880]
      Branch {
        DstComponent  "Sum3"
        DstTerminal   2
      }
      Branch {
        DstComponent  "Goto16"
        DstTerminal   1
      }
    }
    Connection {
      Type          Signal
      SrcComponent  "PWM"
      SrcTerminal   3
      DstComponent  "Goto6"
      DstTerminal   1
    }
    Connection {
      Type          Signal
      SrcComponent  "Probe"
      SrcTerminal   1
      Points        [1755, 810; 1755, 805]
      DstComponent  "Scope3"
      DstTerminal   1
    }
    Connection {
      Type          Wire
      SrcComponent  "PV_Villalva2"
      SrcTerminal   1
      Points        [180, 515]
      Branch {
        Points        [210, 515]
        DstComponent  "D8"
        DstTerminal   2
      }
      Branch {
        DstComponent  "D7"
        DstTerminal   1
      }
    }
    Annotation {
      Name          "<html><body>\n<p>Pierwszy string paneli</p></body></html>"
      Position      [175, 455]
    } 
    Annotation {
      Name          "<html><body>\n<p>Drugi string paneli</p></body></html>"
      Position      [155, 240]
    } 
    Annotation {
      Name          "<html><body>\n<p><span style=\" font-size:14px; font-weig"
"ht:600; color:#ff0004;\">Odczyty</span></p></body></html>"
      Position      [940, 390]
    } 
  }
}
